{
    "sourceFile": "src/utils/mapApiCarToCar.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1763650513154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763652731382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,21 @@\n // src/utils/mapApiCarToCar.ts\r\n import type { ApiCar } from \"@/api/cars\";\r\n+import { API_BASE_URL } from \"@/api/cars\";\r\n import type { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  // Normalize image URLs to absolute URLs\r\n+  const images =\r\n+    c.images?.map((img) => {\r\n+      if (!img) return \"\";\r\n+      // if already absolute (http...), keep as is\r\n+      if (img.startsWith(\"http://\") || img.startsWith(\"https://\")) return img;\r\n+      // ensure no leading slash duplication\r\n+      const clean = img.replace(/^\\/+/, \"\");\r\n+      return `${API_BASE_URL}/${clean}`;\r\n+    }) || [];\r\n+\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`,\r\n     brand: c.brand,\r\n@@ -12,12 +24,11 @@\n     price: c.price,\r\n     mileage: c.mileage,\r\n     condition: c.condition,\r\n     description: c.description,\r\n-    images: c.images || [],\r\n+    images,\r\n \r\n     // Api: platforms: string[]\r\n-    // Car: platform: { name: string }[]\r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n     // Api seller?: { _id, name, email }\r\n     seller: {\r\n"
                },
                {
                    "date": 1763656815058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,30 @@\n+export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  return {\r\n+    id: c._id,\r\n+    title: `${c.brand} ${c.model}`,\r\n+    brand: c.brand,\r\n+    model: c.model,\r\n+    year: c.year,\r\n+    price: c.price,\r\n+    mileage: c.mileage,\r\n+    condition: c.condition,\r\n+    description: c.description,\r\n+\r\n+    // FIX IMAGE URLS\r\n+    images: c.images?.map(img => `http://localhost:5000${img}`) || [],\r\n+\r\n+    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n+\r\n+    seller: {\r\n+      id: c.seller?._id || \"\",\r\n+      name: c.seller?.name || \"Unknown Seller\",\r\n+      email: c.seller?.email || \"\",\r\n+      phone: \"\",\r\n+    },\r\n+\r\n+    createdAt: c.createdAt || \"\",\r\n+    location: \"Lebanon\",\r\n+    fuelType: undefined,\r\n+    transmission: undefined,\r\n+  };\r\n+};\r\n"
                },
                {
                    "date": 1763656822510,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+import { ApiCar } from \"@/api/cars\";\r\n+\r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`,\r\n"
                },
                {
                    "date": 1763656828260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n@@ -29,52 +30,4 @@\n     fuelType: undefined,\r\n     transmission: undefined,\r\n   };\r\n };\r\n-// src/utils/mapApiCarToCar.ts\r\n-import type { ApiCar } from \"@/api/cars\";\r\n-import { API_BASE_URL } from \"@/api/cars\";\r\n-import type { Car } from \"@/types/car\";\r\n-\r\n-export const mapApiCarToCar = (c: ApiCar): Car => {\r\n-  // Normalize image URLs to absolute URLs\r\n-  const images =\r\n-    c.images?.map((img) => {\r\n-      if (!img) return \"\";\r\n-      // if already absolute (http...), keep as is\r\n-      if (img.startsWith(\"http://\") || img.startsWith(\"https://\")) return img;\r\n-      // ensure no leading slash duplication\r\n-      const clean = img.replace(/^\\/+/, \"\");\r\n-      return `${API_BASE_URL}/${clean}`;\r\n-    }) || [];\r\n-\r\n-  return {\r\n-    id: c._id,\r\n-    title: `${c.brand} ${c.model}`,\r\n-    brand: c.brand,\r\n-    model: c.model,\r\n-    year: c.year,\r\n-    price: c.price,\r\n-    mileage: c.mileage,\r\n-    condition: c.condition,\r\n-    description: c.description,\r\n-    images,\r\n-\r\n-    // Api: platforms: string[]\r\n-    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n-\r\n-    // Api seller?: { _id, name, email }\r\n-    seller: {\r\n-      id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown Seller\",\r\n-      email: c.seller?.email || \"\",\r\n-      phone: \"\", // backend doesn’t send phone yet\r\n-    },\r\n-\r\n-    createdAt: c.createdAt || \"\",\r\n-    location: \"Lebanon\", // default for now\r\n-\r\n-    // Optional fields – backend doesn’t send them yet\r\n-    fuelType: undefined,\r\n-    transmission: undefined,\r\n-  };\r\n-};\r\n"
                },
                {
                    "date": 1763929892134,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+// src/utils/mapApiCarToCar.ts\r\n import { ApiCar } from \"@/api/cars\";\r\n import { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n@@ -13,17 +14,17 @@\n     condition: c.condition,\r\n     description: c.description,\r\n \r\n     // FIX IMAGE URLS\r\n-    images: c.images?.map(img => `http://localhost:5000${img}`) || [],\r\n+    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n \r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown Seller\",\r\n+      name: c.seller?.name || \"Unknown\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: \"\",\r\n+      phone: \"\", // backend does not provide phone\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n"
                },
                {
                    "date": 1763933415992,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n-// src/utils/mapApiCarToCar.ts\r\n-import { ApiCar } from \"@/api/cars\";\r\n-import { Car } from \"@/types/car\";\r\n+import type { ApiCar } from \"@/api/cars\";\r\n+import type { Car } from \"@/types/car\";\r\n+import { API_BASE_URL } from \"@/api/cars\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n@@ -13,18 +13,17 @@\n     mileage: c.mileage,\r\n     condition: c.condition,\r\n     description: c.description,\r\n \r\n-    // FIX IMAGE URLS\r\n-    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n+    images: c.images?.map((img) => `${API_BASE_URL}${img}`) || [],\r\n \r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown\",\r\n+      name: c.seller?.name || \"Unknown Seller\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: \"\", // backend does not provide phone\r\n+      phone: \"\",\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n"
                },
                {
                    "date": 1763933421407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,34 @@\n+// src/utils/mapApiCarToCar.ts\r\n+import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n+\r\n+export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  return {\r\n+    id: c._id,\r\n+    title: `${c.brand} ${c.model}`,\r\n+    brand: c.brand,\r\n+    model: c.model,\r\n+    year: c.year,\r\n+    price: c.price,\r\n+    mileage: c.mileage,\r\n+    condition: c.condition,\r\n+    description: c.description,\r\n+\r\n+    // FIX IMAGE URLS\r\n+    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n+\r\n+    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n+\r\n+    seller: {\r\n+      id: c.seller?._id || \"\",\r\n+      name: c.seller?.name || \"Unknown\",\r\n+      email: c.seller?.email || \"\",\r\n+      phone: \"\", // backend does not provide phone\r\n+    },\r\n+\r\n+    createdAt: c.createdAt || \"\",\r\n+    location: \"Lebanon\",\r\n+    fuelType: undefined,\r\n+    transmission: undefined,\r\n+  };\r\n+};\r\n"
                }
            ],
            "date": 1763650513154,
            "name": "Commit-0",
            "content": "// src/utils/mapApiCarToCar.ts\r\nimport type { ApiCar } from \"@/api/cars\";\r\nimport type { Car } from \"@/types/car\";\r\n\r\nexport const mapApiCarToCar = (c: ApiCar): Car => {\r\n  return {\r\n    id: c._id,\r\n    title: `${c.brand} ${c.model}`,\r\n    brand: c.brand,\r\n    model: c.model,\r\n    year: c.year,\r\n    price: c.price,\r\n    mileage: c.mileage,\r\n    condition: c.condition,\r\n    description: c.description,\r\n    images: c.images || [],\r\n\r\n    // Api: platforms: string[]\r\n    // Car: platform: { name: string }[]\r\n    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n\r\n    // Api seller?: { _id, name, email }\r\n    seller: {\r\n      id: c.seller?._id || \"\",\r\n      name: c.seller?.name || \"Unknown Seller\",\r\n      email: c.seller?.email || \"\",\r\n      phone: \"\", // backend doesn’t send phone yet\r\n    },\r\n\r\n    createdAt: c.createdAt || \"\",\r\n    location: \"Lebanon\", // default for now\r\n\r\n    // Optional fields – backend doesn’t send them yet\r\n    fuelType: undefined,\r\n    transmission: undefined,\r\n  };\r\n};\r\n"
        }
    ]
}