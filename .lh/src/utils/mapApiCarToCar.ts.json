{
    "sourceFile": "src/utils/mapApiCarToCar.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 14,
            "patches": [
                {
                    "date": 1763650513154,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1763652731382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,21 @@\n // src/utils/mapApiCarToCar.ts\r\n import type { ApiCar } from \"@/api/cars\";\r\n+import { API_BASE_URL } from \"@/api/cars\";\r\n import type { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  // Normalize image URLs to absolute URLs\r\n+  const images =\r\n+    c.images?.map((img) => {\r\n+      if (!img) return \"\";\r\n+      // if already absolute (http...), keep as is\r\n+      if (img.startsWith(\"http://\") || img.startsWith(\"https://\")) return img;\r\n+      // ensure no leading slash duplication\r\n+      const clean = img.replace(/^\\/+/, \"\");\r\n+      return `${API_BASE_URL}/${clean}`;\r\n+    }) || [];\r\n+\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`,\r\n     brand: c.brand,\r\n@@ -12,12 +24,11 @@\n     price: c.price,\r\n     mileage: c.mileage,\r\n     condition: c.condition,\r\n     description: c.description,\r\n-    images: c.images || [],\r\n+    images,\r\n \r\n     // Api: platforms: string[]\r\n-    // Car: platform: { name: string }[]\r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n     // Api seller?: { _id, name, email }\r\n     seller: {\r\n"
                },
                {
                    "date": 1763656815058,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,30 @@\n+export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  return {\r\n+    id: c._id,\r\n+    title: `${c.brand} ${c.model}`,\r\n+    brand: c.brand,\r\n+    model: c.model,\r\n+    year: c.year,\r\n+    price: c.price,\r\n+    mileage: c.mileage,\r\n+    condition: c.condition,\r\n+    description: c.description,\r\n+\r\n+    // FIX IMAGE URLS\r\n+    images: c.images?.map(img => `http://localhost:5000${img}`) || [],\r\n+\r\n+    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n+\r\n+    seller: {\r\n+      id: c.seller?._id || \"\",\r\n+      name: c.seller?.name || \"Unknown Seller\",\r\n+      email: c.seller?.email || \"\",\r\n+      phone: \"\",\r\n+    },\r\n+\r\n+    createdAt: c.createdAt || \"\",\r\n+    location: \"Lebanon\",\r\n+    fuelType: undefined,\r\n+    transmission: undefined,\r\n+  };\r\n+};\r\n"
                },
                {
                    "date": 1763656822510,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+import { ApiCar } from \"@/api/cars\";\r\n+\r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`,\r\n"
                },
                {
                    "date": 1763656828260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n@@ -29,52 +30,4 @@\n     fuelType: undefined,\r\n     transmission: undefined,\r\n   };\r\n };\r\n-// src/utils/mapApiCarToCar.ts\r\n-import type { ApiCar } from \"@/api/cars\";\r\n-import { API_BASE_URL } from \"@/api/cars\";\r\n-import type { Car } from \"@/types/car\";\r\n-\r\n-export const mapApiCarToCar = (c: ApiCar): Car => {\r\n-  // Normalize image URLs to absolute URLs\r\n-  const images =\r\n-    c.images?.map((img) => {\r\n-      if (!img) return \"\";\r\n-      // if already absolute (http...), keep as is\r\n-      if (img.startsWith(\"http://\") || img.startsWith(\"https://\")) return img;\r\n-      // ensure no leading slash duplication\r\n-      const clean = img.replace(/^\\/+/, \"\");\r\n-      return `${API_BASE_URL}/${clean}`;\r\n-    }) || [];\r\n-\r\n-  return {\r\n-    id: c._id,\r\n-    title: `${c.brand} ${c.model}`,\r\n-    brand: c.brand,\r\n-    model: c.model,\r\n-    year: c.year,\r\n-    price: c.price,\r\n-    mileage: c.mileage,\r\n-    condition: c.condition,\r\n-    description: c.description,\r\n-    images,\r\n-\r\n-    // Api: platforms: string[]\r\n-    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n-\r\n-    // Api seller?: { _id, name, email }\r\n-    seller: {\r\n-      id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown Seller\",\r\n-      email: c.seller?.email || \"\",\r\n-      phone: \"\", // backend doesn’t send phone yet\r\n-    },\r\n-\r\n-    createdAt: c.createdAt || \"\",\r\n-    location: \"Lebanon\", // default for now\r\n-\r\n-    // Optional fields – backend doesn’t send them yet\r\n-    fuelType: undefined,\r\n-    transmission: undefined,\r\n-  };\r\n-};\r\n"
                },
                {
                    "date": 1763929892134,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,5 @@\n+// src/utils/mapApiCarToCar.ts\r\n import { ApiCar } from \"@/api/cars\";\r\n import { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n@@ -13,17 +14,17 @@\n     condition: c.condition,\r\n     description: c.description,\r\n \r\n     // FIX IMAGE URLS\r\n-    images: c.images?.map(img => `http://localhost:5000${img}`) || [],\r\n+    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n \r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown Seller\",\r\n+      name: c.seller?.name || \"Unknown\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: \"\",\r\n+      phone: \"\", // backend does not provide phone\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n"
                },
                {
                    "date": 1763933415992,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n-// src/utils/mapApiCarToCar.ts\r\n-import { ApiCar } from \"@/api/cars\";\r\n-import { Car } from \"@/types/car\";\r\n+import type { ApiCar } from \"@/api/cars\";\r\n+import type { Car } from \"@/types/car\";\r\n+import { API_BASE_URL } from \"@/api/cars\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n@@ -13,18 +13,17 @@\n     mileage: c.mileage,\r\n     condition: c.condition,\r\n     description: c.description,\r\n \r\n-    // FIX IMAGE URLS\r\n-    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n+    images: c.images?.map((img) => `${API_BASE_URL}${img}`) || [],\r\n \r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown\",\r\n+      name: c.seller?.name || \"Unknown Seller\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: \"\", // backend does not provide phone\r\n+      phone: \"\",\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n"
                },
                {
                    "date": 1763933421407,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,34 @@\n+// src/utils/mapApiCarToCar.ts\r\n+import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n+\r\n+export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  return {\r\n+    id: c._id,\r\n+    title: `${c.brand} ${c.model}`,\r\n+    brand: c.brand,\r\n+    model: c.model,\r\n+    year: c.year,\r\n+    price: c.price,\r\n+    mileage: c.mileage,\r\n+    condition: c.condition,\r\n+    description: c.description,\r\n+\r\n+    // FIX IMAGE URLS\r\n+    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n+\r\n+    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n+\r\n+    seller: {\r\n+      id: c.seller?._id || \"\",\r\n+      name: c.seller?.name || \"Unknown\",\r\n+      email: c.seller?.email || \"\",\r\n+      phone: \"\", // backend does not provide phone\r\n+    },\r\n+\r\n+    createdAt: c.createdAt || \"\",\r\n+    location: \"Lebanon\",\r\n+    fuelType: undefined,\r\n+    transmission: undefined,\r\n+  };\r\n+};\r\n"
                },
                {
                    "date": 1764678894485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,64 +4,40 @@\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n-    title: `${c.brand} ${c.model}`,\r\n+    title: `${c.brand} ${c.model}`.trim(),\r\n+\r\n     brand: c.brand,\r\n     model: c.model,\r\n-    year: c.year,\r\n-    price: c.price,\r\n-    mileage: c.mileage,\r\n+\r\n+    // convert string → number (IMPORTANT FIX)\r\n+    year: Number(c.year),\r\n+    price: Number(c.price),\r\n+    mileage: Number(c.mileage),\r\n+\r\n     condition: c.condition,\r\n     description: c.description,\r\n \r\n-    // FIX IMAGE URLS\r\n+    // STATIC FIX: prepend server URL\r\n     images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n \r\n+    // platforms → objects\r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n+    // seller info\r\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n       name: c.seller?.name || \"Unknown\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: \"\", // backend does not provide phone\r\n+      phone: \"\", // backend does not give phone\r\n     },\r\n \r\n+    // createdAt for sorting\r\n     createdAt: c.createdAt || \"\",\r\n+\r\n     location: \"Lebanon\",\r\n-    fuelType: undefined,\r\n-    transmission: undefined,\r\n-  };\r\n-};\r\n-import type { ApiCar } from \"@/api/cars\";\r\n-import type { Car } from \"@/types/car\";\r\n-import { API_BASE_URL } from \"@/api/cars\";\r\n \r\n-export const mapApiCarToCar = (c: ApiCar): Car => {\r\n-  return {\r\n-    id: c._id,\r\n-    title: `${c.brand} ${c.model}`,\r\n-    brand: c.brand,\r\n-    model: c.model,\r\n-    year: c.year,\r\n-    price: c.price,\r\n-    mileage: c.mileage,\r\n-    condition: c.condition,\r\n-    description: c.description,\r\n-\r\n-    images: c.images?.map((img) => `${API_BASE_URL}${img}`) || [],\r\n-\r\n-    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n-\r\n-    seller: {\r\n-      id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown Seller\",\r\n-      email: c.seller?.email || \"\",\r\n-      phone: \"\",\r\n-    },\r\n-\r\n-    createdAt: c.createdAt || \"\",\r\n-    location: \"Lebanon\",\r\n     fuelType: undefined,\r\n     transmission: undefined,\r\n   };\r\n };\r\n"
                },
                {
                    "date": 1764681910046,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,46 @@\n+// src/utils/mapApiCarToCar.ts\r\n+import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n+\r\n+export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  return {\r\n+    id: c._id,\r\n+    title: `${c.brand} ${c.model}`.trim(),\r\n+\r\n+    brand: c.brand,\r\n+    model: c.model,\r\n+\r\n+    year: Number(c.year),\r\n+    price: Number(c.price),\r\n+    mileage: Number(c.mileage),\r\n+\r\n+    condition: c.condition,\r\n+    description: c.description,\r\n+\r\n+    // prepend server URL\r\n+    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n+\r\n+    // platforms → objects\r\n+    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n+\r\n+    seller: {\r\n+      id: c.seller?._id || \"\",\r\n+      name: c.seller?.name || \"Unknown\",\r\n+      email: c.seller?.email || \"\",\r\n+      phone: \"\",\r\n+    },\r\n+\r\n+    createdAt: c.createdAt || \"\",\r\n+    location: \"Lebanon\",\r\n+\r\n+    // NEW OPTIONAL FIELDS\r\n+    fuelType: c.fuelType,\r\n+    transmission: c.transmission,\r\n+    color: c.color,\r\n+    engineSize: c.engineSize,\r\n+    doors: c.doors ? Number(c.doors) : undefined,\r\n+    cylinders: c.cylinders ? Number(c.cylinders) : undefined,\r\n+    drivetrain: c.drivetrain,     // FWD / RWD / AWD\r\n+    bodyType: c.bodyType,         // SUV / Sedan / Coupe\r\n+  };\r\n+};\r\n"
                },
                {
                    "date": 1764682439566,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,47 @@\n+// src/utils/mapApiCarToCar.ts\r\n+import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n+\r\n+export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  return {\r\n+    id: c._id,\r\n+    title: `${c.brand} ${c.model}`.trim(),\r\n+\r\n+    brand: c.brand,\r\n+    model: c.model,\r\n+\r\n+    year: Number(c.year),\r\n+    price: Number(c.price),\r\n+    mileage: Number(c.mileage),\r\n+\r\n+    condition: c.condition,\r\n+    description: c.description,\r\n+\r\n+    // prepend API base URL for images\r\n+    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n+\r\n+    // convert platforms: string[] → { name: string }[]\r\n+    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n+\r\n+    // seller\r\n+    seller: {\r\n+      id: c.seller?._id || \"\",\r\n+      name: c.seller?.name || \"Unknown\",\r\n+      email: c.seller?.email || \"\",\r\n+      phone: \"\",\r\n+    },\r\n+\r\n+    createdAt: c.createdAt || \"\",\r\n+    location: \"Lebanon\",\r\n+\r\n+    // NEW OPTIONAL FIELDS\r\n+    fuelType: c.fuelType,\r\n+    transmission: c.transmission,\r\n+    color: c.color,\r\n+    engineSize: c.engineSize,\r\n+    doors: c.doors ? Number(c.doors) : undefined,\r\n+    cylinders: c.cylinders ? Number(c.cylinders) : undefined,\r\n+    drivetrain: c.drivetrain,\r\n+    bodyType: c.bodyType,\r\n+  };\r\n+};\r\n"
                },
                {
                    "date": 1764685547292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,12 @@\n import { ApiCar } from \"@/api/cars\";\r\n import { Car } from \"@/types/car\";\r\n \r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n+  // safely try to read seller phone, even if not in the ApiCar type yet\r\n+  const sellerPhone =\r\n+    (c.seller && (c.seller as any).phone) || \"\";\r\n+\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`.trim(),\r\n \r\n@@ -27,9 +31,9 @@\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n       name: c.seller?.name || \"Unknown\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: \"\",\r\n+      phone: sellerPhone,\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n@@ -44,93 +48,4 @@\n     drivetrain: c.drivetrain,\r\n     bodyType: c.bodyType,\r\n   };\r\n };\r\n-// src/utils/mapApiCarToCar.ts\r\n-import { ApiCar } from \"@/api/cars\";\r\n-import { Car } from \"@/types/car\";\r\n-\r\n-export const mapApiCarToCar = (c: ApiCar): Car => {\r\n-  return {\r\n-    id: c._id,\r\n-    title: `${c.brand} ${c.model}`.trim(),\r\n-\r\n-    brand: c.brand,\r\n-    model: c.model,\r\n-\r\n-    year: Number(c.year),\r\n-    price: Number(c.price),\r\n-    mileage: Number(c.mileage),\r\n-\r\n-    condition: c.condition,\r\n-    description: c.description,\r\n-\r\n-    // prepend server URL\r\n-    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n-\r\n-    // platforms → objects\r\n-    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n-\r\n-    seller: {\r\n-      id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown\",\r\n-      email: c.seller?.email || \"\",\r\n-      phone: \"\",\r\n-    },\r\n-\r\n-    createdAt: c.createdAt || \"\",\r\n-    location: \"Lebanon\",\r\n-\r\n-    // NEW OPTIONAL FIELDS\r\n-    fuelType: c.fuelType,\r\n-    transmission: c.transmission,\r\n-    color: c.color,\r\n-    engineSize: c.engineSize,\r\n-    doors: c.doors ? Number(c.doors) : undefined,\r\n-    cylinders: c.cylinders ? Number(c.cylinders) : undefined,\r\n-    drivetrain: c.drivetrain,     // FWD / RWD / AWD\r\n-    bodyType: c.bodyType,         // SUV / Sedan / Coupe\r\n-  };\r\n-};\r\n-// src/utils/mapApiCarToCar.ts\r\n-import { ApiCar } from \"@/api/cars\";\r\n-import { Car } from \"@/types/car\";\r\n-\r\n-export const mapApiCarToCar = (c: ApiCar): Car => {\r\n-  return {\r\n-    id: c._id,\r\n-    title: `${c.brand} ${c.model}`.trim(),\r\n-\r\n-    brand: c.brand,\r\n-    model: c.model,\r\n-\r\n-    // convert string → number (IMPORTANT FIX)\r\n-    year: Number(c.year),\r\n-    price: Number(c.price),\r\n-    mileage: Number(c.mileage),\r\n-\r\n-    condition: c.condition,\r\n-    description: c.description,\r\n-\r\n-    // STATIC FIX: prepend server URL\r\n-    images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n-\r\n-    // platforms → objects\r\n-    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n-\r\n-    // seller info\r\n-    seller: {\r\n-      id: c.seller?._id || \"\",\r\n-      name: c.seller?.name || \"Unknown\",\r\n-      email: c.seller?.email || \"\",\r\n-      phone: \"\", // backend does not give phone\r\n-    },\r\n-\r\n-    // createdAt for sorting\r\n-    createdAt: c.createdAt || \"\",\r\n-\r\n-    location: \"Lebanon\",\r\n-\r\n-    fuelType: undefined,\r\n-    transmission: undefined,\r\n-  };\r\n-};\r\n"
                },
                {
                    "date": 1764687048198,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,13 +1,5 @@\n-// src/utils/mapApiCarToCar.ts\r\n-import { ApiCar } from \"@/api/cars\";\r\n-import { Car } from \"@/types/car\";\r\n-\r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n-  // safely try to read seller phone, even if not in the ApiCar type yet\r\n-  const sellerPhone =\r\n-    (c.seller && (c.seller as any).phone) || \"\";\r\n-\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`.trim(),\r\n \r\n@@ -20,26 +12,22 @@\n \r\n     condition: c.condition,\r\n     description: c.description,\r\n \r\n-    // prepend API base URL for images\r\n     images: c.images?.map((img) => `http://127.0.0.1:5000${img}`) || [],\r\n \r\n-    // convert platforms: string[] → { name: string }[]\r\n     platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n \r\n-    // seller\r\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n       name: c.seller?.name || \"Unknown\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: sellerPhone,\r\n+      phone: c.phone || \"\",   // <-- FIXED\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n \r\n-    // NEW OPTIONAL FIELDS\r\n     fuelType: c.fuelType,\r\n     transmission: c.transmission,\r\n     color: c.color,\r\n     engineSize: c.engineSize,\r\n"
                },
                {
                    "date": 1764687064376,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,8 @@\n+// src/utils/mapApiCarToCar.ts\r\n+import { ApiCar } from \"@/api/cars\";\r\n+import { Car } from \"@/types/car\";\r\n+\r\n export const mapApiCarToCar = (c: ApiCar): Car => {\r\n   return {\r\n     id: c._id,\r\n     title: `${c.brand} ${c.model}`.trim(),\r\n@@ -36,4 +40,5 @@\n     drivetrain: c.drivetrain,\r\n     bodyType: c.bodyType,\r\n   };\r\n };\r\n+\r\n"
                },
                {
                    "date": 1764777872885,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,9 +24,9 @@\n     seller: {\r\n       id: c.seller?._id || \"\",\r\n       name: c.seller?.name || \"Unknown\",\r\n       email: c.seller?.email || \"\",\r\n-      phone: c.phone || \"\",   // <-- FIXED\r\n+      phone: c.phone || \"\",\r\n     },\r\n \r\n     createdAt: c.createdAt || \"\",\r\n     location: \"Lebanon\",\r\n@@ -38,7 +38,10 @@\n     doors: c.doors ? Number(c.doors) : undefined,\r\n     cylinders: c.cylinders ? Number(c.cylinders) : undefined,\r\n     drivetrain: c.drivetrain,\r\n     bodyType: c.bodyType,\r\n+\r\n+    // ⭐ FIX: ADD SOLD DATA\r\n+    sold: c.sold ?? false,\r\n+    soldAt: c.soldAt || \"\",\r\n   };\r\n };\r\n-\r\n"
                }
            ],
            "date": 1763650513154,
            "name": "Commit-0",
            "content": "// src/utils/mapApiCarToCar.ts\r\nimport type { ApiCar } from \"@/api/cars\";\r\nimport type { Car } from \"@/types/car\";\r\n\r\nexport const mapApiCarToCar = (c: ApiCar): Car => {\r\n  return {\r\n    id: c._id,\r\n    title: `${c.brand} ${c.model}`,\r\n    brand: c.brand,\r\n    model: c.model,\r\n    year: c.year,\r\n    price: c.price,\r\n    mileage: c.mileage,\r\n    condition: c.condition,\r\n    description: c.description,\r\n    images: c.images || [],\r\n\r\n    // Api: platforms: string[]\r\n    // Car: platform: { name: string }[]\r\n    platform: c.platforms?.map((p) => ({ name: p })) || [],\r\n\r\n    // Api seller?: { _id, name, email }\r\n    seller: {\r\n      id: c.seller?._id || \"\",\r\n      name: c.seller?.name || \"Unknown Seller\",\r\n      email: c.seller?.email || \"\",\r\n      phone: \"\", // backend doesn’t send phone yet\r\n    },\r\n\r\n    createdAt: c.createdAt || \"\",\r\n    location: \"Lebanon\", // default for now\r\n\r\n    // Optional fields – backend doesn’t send them yet\r\n    fuelType: undefined,\r\n    transmission: undefined,\r\n  };\r\n};\r\n"
        }
    ]
}