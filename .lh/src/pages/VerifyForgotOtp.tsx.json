{
    "sourceFile": "src/pages/VerifyForgotOtp.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1764775748308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1764775748308,
            "name": "Commit-0",
            "content": "import { useState } from \"react\";\r\nimport { verifyForgotOtp } from \"@/api/auth\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { toast } from \"@/hooks/use-toast\";\r\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\r\n\r\nconst VerifyForgotOtp = () => {\r\n  const [search] = useSearchParams();\r\n  const email = search.get(\"email\") || \"\";\r\n  const [otp, setOtp] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n\r\n    try {\r\n      await verifyForgotOtp(email, otp);\r\n\r\n      toast({ title: \"OTP verified!\" });\r\n\r\n      navigate(`/reset-password?email=${encodeURIComponent(email)}`);\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Invalid OTP\",\r\n        description: (error as Error).message,\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen items-center justify-center\">\r\n      <form className=\"space-y-4 w-full max-w-sm\" onSubmit={handleSubmit}>\r\n        <h1 className=\"text-xl font-semibold\">Enter OTP</h1>\r\n\r\n        <Input\r\n          className=\"h-8 text-sm\"\r\n          maxLength={6}\r\n          placeholder=\"6-digit OTP\"\r\n          value={otp}\r\n          onChange={(e) =>\r\n            setOtp(e.target.value.replace(/\\D/g, \"\").slice(0, 6))\r\n          }\r\n          required\r\n        />\r\n\r\n        <Button className=\"w-full h-9 text-sm\">Verify</Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VerifyForgotOtp;\r\n"
        }
    ]
}