{
    "sourceFile": "src/pages/CarDetail.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1759428015711,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759428263577,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -218,9 +218,9 @@\n                 </div>\r\n \r\n                 <Separator />\r\n \r\n-                <Button variant=\"accent\" className=\"w-full\" size=\"lg\">\r\n+                <Button variant=\"defaultsName=\"w-full\" size=\"lg\">\r\n                   Contact Seller\r\n                 </Button>\r\n               </CardContent>\r\n             </Card>\r\n"
                }
            ],
            "date": 1759428015711,
            "name": "Commit-0",
            "content": "import { useParams, useNavigate } from \"react-router-dom\";\r\nimport { mockCars } from \"@/lib/mockData\";\r\nimport { getSimilarCars } from \"@/lib/filterUtils\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { ArrowLeft, MapPin, Gauge, Calendar, Mail, Phone, Heart, GitCompare, Fuel, Cog } from \"lucide-react\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport ImageCarousel from \"@/components/ImageCarousel\";\r\nimport CarCard from \"@/components/CarCard\";\r\nimport { useFavorites } from \"@/contexts/FavoritesContext\";\r\nimport { useComparison } from \"@/contexts/ComparisonContext\";\r\nimport { toast } from \"@/hooks/use-toast\";\r\n\r\nconst CarDetail = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const { isFavorite, toggleFavorite } = useFavorites();\r\n  const { isInComparison, addToComparison, removeFromComparison } = useComparison();\r\n  \r\n  const car = mockCars.find((c) => c.id === id);\r\n  const similarCars = car ? getSimilarCars(car, mockCars) : [];\r\n\r\n  const handleFavoriteClick = () => {\r\n    if (car) {\r\n      toggleFavorite(car.id);\r\n      toast({\r\n        title: isFavorite(car.id) ? \"Removed from favorites\" : \"Added to favorites\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleComparisonClick = () => {\r\n    if (!car) return;\r\n    if (isInComparison(car.id)) {\r\n      removeFromComparison(car.id);\r\n      toast({ title: \"Removed from comparison\" });\r\n    } else {\r\n      const added = addToComparison(car);\r\n      if (added) {\r\n        toast({ title: \"Added to comparison\" });\r\n      } else {\r\n        toast({\r\n          title: \"Comparison limit reached\",\r\n          description: \"You can only compare up to 3 cars at a time.\",\r\n          variant: \"destructive\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  if (!car) {\r\n    return (\r\n      <div className=\"container mx-auto px-4 py-20 text-center\">\r\n        <h1 className=\"mb-4 text-3xl font-bold\">Car Not Found</h1>\r\n        <Button onClick={() => navigate(\"/\")}>Back to Dashboard</Button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => navigate(\"/\")}\r\n          className=\"mb-6 gap-2\"\r\n        >\r\n          <ArrowLeft className=\"h-4 w-4\" />\r\n          Back to Listings\r\n        </Button>\r\n\r\n        <div className=\"mb-6 flex gap-2\">\r\n          <Button\r\n            variant={isFavorite(car.id) ? \"default\" : \"outline\"}\r\n            onClick={handleFavoriteClick}\r\n            className=\"gap-2\"\r\n          >\r\n            <Heart className={`h-4 w-4 ${isFavorite(car.id) ? \"fill-current\" : \"\"}`} />\r\n            {isFavorite(car.id) ? \"Saved\" : \"Save\"}\r\n          </Button>\r\n          <Button\r\n            variant={isInComparison(car.id) ? \"default\" : \"outline\"}\r\n            onClick={handleComparisonClick}\r\n            className=\"gap-2\"\r\n          >\r\n            <GitCompare className=\"h-4 w-4\" />\r\n            {isInComparison(car.id) ? \"In Comparison\" : \"Compare\"}\r\n          </Button>\r\n        </div>\r\n\r\n        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n          {/* Main Content */}\r\n          <div className=\"lg:col-span-2 space-y-6\">\r\n            {/* Image Carousel */}\r\n            <Card className=\"overflow-hidden\">\r\n              <ImageCarousel images={car.images} alt={car.title} />\r\n            </Card>\r\n\r\n            {/* Car Details */}\r\n            <Card>\r\n              <CardHeader>\r\n                <div className=\"flex items-start justify-between\">\r\n                  <div>\r\n                    <CardTitle className=\"text-3xl\">{car.title}</CardTitle>\r\n                    <p className=\"mt-2 text-2xl font-bold text-primary\">\r\n                      ${car.price.toLocaleString()}\r\n                    </p>\r\n                  </div>\r\n                  <Badge variant={car.condition === \"new\" ? \"default\" : \"outline\"} className=\"capitalize text-base px-4 py-1\">\r\n                    {car.condition}\r\n                  </Badge>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"grid grid-cols-2 gap-4 md:grid-cols-4\">\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <Calendar className=\"h-5 w-5\" />\r\n                    <div>\r\n                      <p className=\"text-xs\">Year</p>\r\n                      <p className=\"font-semibold text-foreground\">{car.year}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <Gauge className=\"h-5 w-5\" />\r\n                    <div>\r\n                      <p className=\"text-xs\">Mileage</p>\r\n                      <p className=\"font-semibold text-foreground\">{car.mileage.toLocaleString()} mi</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                    <MapPin className=\"h-5 w-5\" />\r\n                    <div>\r\n                      <p className=\"text-xs\">Location</p>\r\n                      <p className=\"font-semibold text-foreground line-clamp-1\">{car.location}</p>\r\n                    </div>\r\n                  </div>\r\n                  {car.fuelType && (\r\n                    <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                      <Fuel className=\"h-5 w-5\" />\r\n                      <div>\r\n                        <p className=\"text-xs\">Fuel Type</p>\r\n                        <p className=\"font-semibold text-foreground capitalize\">{car.fuelType}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {car.transmission && (\r\n                    <div className=\"flex items-center gap-2 text-muted-foreground\">\r\n                      <Cog className=\"h-5 w-5\" />\r\n                      <div>\r\n                        <p className=\"text-xs\">Transmission</p>\r\n                        <p className=\"font-semibold text-foreground capitalize\">{car.transmission}</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <h3 className=\"mb-3 text-lg font-semibold\">Description</h3>\r\n                  <p className=\"text-muted-foreground leading-relaxed\">{car.description}</p>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div>\r\n                  <h3 className=\"mb-3 text-lg font-semibold\">Listed On</h3>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {car.platform.map((platform, index) => (\r\n                      <Badge key={index} variant=\"secondary\" className=\"text-sm px-3 py-1\">\r\n                        {platform.name}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Sidebar - Seller Info */}\r\n          <div className=\"lg:col-span-1\">\r\n            <Card className=\"sticky top-24\">\r\n              <CardHeader>\r\n                <CardTitle>Seller Information</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <Avatar className=\"h-12 w-12\">\r\n                    <AvatarFallback className=\"bg-primary text-primary-foreground text-lg\">\r\n                      {car.seller.name.charAt(0).toUpperCase()}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                  <div>\r\n                    <p className=\"font-semibold\">{car.seller.name}</p>\r\n                    <p className=\"text-sm text-muted-foreground\">Private Seller</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div className=\"space-y-3\">\r\n                  <a\r\n                    href={`mailto:${car.seller.email}`}\r\n                    className=\"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-smooth\"\r\n                  >\r\n                    <Mail className=\"h-4 w-4\" />\r\n                    {car.seller.email}\r\n                  </a>\r\n                  <a\r\n                    href={`tel:${car.seller.phone}`}\r\n                    className=\"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-smooth\"\r\n                  >\r\n                    <Phone className=\"h-4 w-4\" />\r\n                    {car.seller.phone}\r\n                  </a>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <Button variant=\"accent\" className=\"w-full\" size=\"lg\">\r\n                  Contact Seller\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Similar Cars */}\r\n        {similarCars.length > 0 && (\r\n          <section className=\"mt-12\">\r\n            <h2 className=\"mb-6 text-2xl font-bold\">Similar Cars You May Like</h2>\r\n            <div className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n              {similarCars.map((similarCar) => (\r\n                <CarCard key={similarCar.id} car={similarCar} />\r\n              ))}\r\n            </div>\r\n          </section>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CarDetail;\r\n"
        }
    ]
}