{
    "sourceFile": "src/pages/Profile.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1759428057980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1759428287556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,159 @@\n+import { useNavigate } from \"react-router-dom\";\r\n+import { useAuth } from \"@/contexts/AuthContext\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n+import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Separator } from \"@/components/ui/separator\";\r\n+import { mockCars } from \"@/lib/mockData\";\r\n+import { Mail, Edit, Trash2 } from \"lucide-react\";\r\n+import { useEffect } from \"react\";\r\n+\r\n+const Profile = () => {\r\n+  const { user } = useAuth();\r\n+  const navigate = useNavigate();\r\n+\r\n+  useEffect(() => {\r\n+    if (!user) {\r\n+      navigate(\"/auth?mode=login\");\r\n+    }\r\n+  }, [user, navigate]);\r\n+\r\n+  if (!user) {\r\n+    return null;\r\n+  }\r\n+\r\n+  // Mock user's listed cars (in real app, filter by user ID)\r\n+  const userCars = mockCars.slice(0, 2);\r\n+\r\n+  return (\r\n+    <div className=\"min-h-screen bg-background\">\r\n+      <div className=\"container mx-auto px-4 py-8\">\r\n+        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n+          {/* Profile Info */}\r\n+          <div className=\"lg:col-span-1\">\r\n+            <Card className=\"shadow-card\">\r\n+              <CardHeader>\r\n+                <CardTitle>Profile</CardTitle>\r\n+              </CardHeader>\r\n+              <CardContent className=\"space-y-6\">\r\n+                <div className=\"flex flex-col items-center text-center\">\r\n+                  <Avatar className=\"h-24 w-24 mb-4\">\r\n+                    <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n+                      {user.name.charAt(0).toUpperCase()}\r\n+                    </AvatarFallback>\r\n+                  </Avatar>\r\n+                  <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n+                  <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n+                    <Mail className=\"h-4 w-4\" />\r\n+                    <span className=\"text-sm\">{user.email}</span>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <Separator />\r\n+\r\n+                <div className=\"space-y-2\">\r\n+                  <div className=\"flex justify-between text-sm\">\r\n+                    <span className=\"text-muted-foreground\">Member Since</span>\r\n+                    <span className=\"font-medium\">Oct 2025</span>\r\n+                  </div>\r\n+                  <div className=\"flex justify-between text-sm\">\r\n+                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n+                    <span className=\"font-medium\">{userCars.length}</span>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <Separator />\r\n+\r\n+                <Button variant=\"outline\" className=\"w-full\">\r\n+                  Edit Profile\r\n+                </Button>\r\n+              </CardContent>\r\n+            </Card>\r\n+          </div>\r\n+\r\n+          {/* User's Cars */}\r\n+          <div className=\"lg:col-span-2\">\r\n+            <Card className=\"shadow-card\">\r\n+              <CardHeader>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <CardTitle>My Listings</CardTitle>\r\n+                  <Button variant=\"accent\" onClick={() => navigate(\"/sell\")}>\r\n+                    Add New Listing\r\n+                  </Button>\r\n+                </div>\r\n+              </CardHeader>\r\n+              <CardContent className=\"space-y-4\">\r\n+                {userCars.length === 0 ? (\r\n+                  <div className=\"py-12 text-center\">\r\n+                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n+                    <Button\r\n+                      variant=\"default\"\r\n+                      className=\"mt-4\"\r\n+                      onClick={() => navigate(\"/sell\")}\r\n+                    >\r\n+                      List Your First Car\r\n+                    </Button>\r\n+                  </div>\r\n+                ) : (\r\n+                  userCars.map((car) => (\r\n+                    <Card key={car.id} className=\"overflow-hidden\">\r\n+                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n+                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n+                          <img\r\n+                            src={car.images[0]}\r\n+                            alt={car.title}\r\n+                            className=\"h-full w-full object-cover\"\r\n+                          />\r\n+                        </div>\r\n+                        \r\n+                        <div className=\"flex-1 space-y-2\">\r\n+                          <div className=\"flex items-start justify-between\">\r\n+                            <div>\r\n+                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n+                              <p className=\"text-2xl font-bold text-primary\">\r\n+                                ${car.price.toLocaleString()}\r\n+                              </p>\r\n+                            </div>\r\n+                            <Badge variant=\"outline\" className=\"capitalize\">\r\n+                              {car.condition}\r\n+                            </Badge>\r\n+                          </div>\r\n+                          \r\n+                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n+                            {car.description}\r\n+                          </p>\r\n+                          \r\n+                          <div className=\"flex flex-wrap gap-2\">\r\n+                            {car.platform.map((platform, index) => (\r\n+                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n+                                {platform.name}\r\n+                              </Badge>\r\n+                            ))}\r\n+                          </div>\r\n+                          \r\n+                          <div className=\"flex gap-2 pt-2\">\r\n+                            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n+                              <Edit className=\"h-4 w-4\" />\r\n+                              Edit\r\n+                            </Button>\r\n+                            <Button variant=\"destructive\" size=\"sm\" className=\"gap-2\">\r\n+                              <Trash2 className=\"h-4 w-4\" />\r\n+                              Delete\r\n+                            </Button>\r\n+                          </div>\r\n+                        </div>\r\n+                      </div>\r\n+                    </Card>\r\n+                  ))\r\n+                )}\r\n+              </CardContent>\r\n+            </Card>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Profile;\r\n"
                },
                {
                    "date": 1759939552424,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,18 +1,24 @@\n import { useNavigate } from \"react-router-dom\";\r\n import { useAuth } from \"@/contexts/AuthContext\";\r\n import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n import { Badge } from \"@/components/ui/badge\";\r\n import { Separator } from \"@/components/ui/separator\";\r\n import { mockCars } from \"@/lib/mockData\";\r\n-import { Mail, Edit, Trash2 } from \"lucide-react\";\r\n-import { useEffect } from \"react\";\r\n+import { Mail, Edit, Trash2, Camera, LogOut } from \"lucide-react\";\r\n+import { useEffect, useState } from \"react\";\r\n+import { toast } from \"@/hooks/use-toast\";\r\n \r\n const Profile = () => {\r\n-  const { user } = useAuth();\r\n+  const { user, logout } = useAuth();\r\n   const navigate = useNavigate();\r\n+  const [isEditingProfile, setIsEditingProfile] = useState(false);\r\n+  const [profileName, setProfileName] = useState(user?.name || \"\");\r\n+  const [profileEmail, setProfileEmail] = useState(user?.email || \"\");\r\n \r\n   useEffect(() => {\r\n     if (!user) {\r\n       navigate(\"/auth?mode=login\");\r\n@@ -22,173 +28,34 @@\n   if (!user) {\r\n     return null;\r\n   }\r\n \r\n-  // Mock user's listed cars (in real app, filter by user ID)\r\n-  const userCars = mockCars.slice(0, 2);\r\n+  const handleProfilePictureUpload = () => {\r\n+    toast({\r\n+      title: \"Upload feature\",\r\n+      description: \"Profile picture upload will be available once connected to backend.\",\r\n+    });\r\n+  };\r\n \r\n-  return (\r\n-    <div className=\"min-h-screen bg-background\">\r\n-      <div className=\"container mx-auto px-4 py-8\">\r\n-        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n-          {/* Profile Info */}\r\n-          <div className=\"lg:col-span-1\">\r\n-            <Card className=\"shadow-card\">\r\n-              <CardHeader>\r\n-                <CardTitle>Profile</CardTitle>\r\n-              </CardHeader>\r\n-              <CardContent className=\"space-y-6\">\r\n-                <div className=\"flex flex-col items-center text-center\">\r\n-                  <Avatar className=\"h-24 w-24 mb-4\">\r\n-                    <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n-                      {user.name.charAt(0).toUpperCase()}\r\n-                    </AvatarFallback>\r\n-                  </Avatar>\r\n-                  <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n-                  <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n-                    <Mail className=\"h-4 w-4\" />\r\n-                    <span className=\"text-sm\">{user.email}</span>\r\n-                  </div>\r\n-                </div>\r\n+  const handleSaveProfile = () => {\r\n+    toast({\r\n+      title: \"Profile updated\",\r\n+      description: \"Your profile has been updated successfully.\",\r\n+    });\r\n+    setIsEditingProfile(false);\r\n+  };\r\n \r\n-                <Separator />\r\n+  const handleLogout = () => {\r\n+    logout();\r\n+    navigate(\"/auth?mode=login\");\r\n+  };\r\n \r\n-                <div className=\"space-y-2\">\r\n-                  <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Member Since</span>\r\n-                    <span className=\"font-medium\">Oct 2025</span>\r\n-                  </div>\r\n-                  <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n-                    <span className=\"font-medium\">{userCars.length}</span>\r\n-                  </div>\r\n-                </div>\r\n-\r\n-                <Separator />\r\n-\r\n-                <Button variant=\"outline\" className=\"w-full\">\r\n-                  Edit Profile\r\n-                </Button>\r\n-              </CardContent>\r\n-            </Card>\r\n-          </div>\r\n-\r\n-          {/* User's Cars */}\r\n-          <div className=\"lg:col-span-2\">\r\n-            <Card className=\"shadow-card\">\r\n-              <CardHeader>\r\n-                <div className=\"flex items-center justify-between\">\r\n-                  <CardTitle>My Listings</CardTitle>\r\n-                  <Button variant=\"accent\" onClick={() => navigate(\"/sell\")}>\r\n-                    Add New Listing\r\n-                  </Button>\r\n-                </div>\r\n-              </CardHeader>\r\n-              <CardContent className=\"space-y-4\">\r\n-                {userCars.length === 0 ? (\r\n-                  <div className=\"py-12 text-center\">\r\n-                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n-                    <Button\r\n-                      variant=\"default\"\r\n-                      className=\"mt-4\"\r\n-                      onClick={() => navigate(\"/sell\")}\r\n-                    >\r\n-                      List Your First Car\r\n-                    </Button>\r\n-                  </div>\r\n-                ) : (\r\n-                  userCars.map((car) => (\r\n-                    <Card key={car.id} className=\"overflow-hidden\">\r\n-                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n-                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n-                          <img\r\n-                            src={car.images[0]}\r\n-                            alt={car.title}\r\n-                            className=\"h-full w-full object-cover\"\r\n-                          />\r\n-                        </div>\r\n-                        \r\n-                        <div className=\"flex-1 space-y-2\">\r\n-                          <div className=\"flex items-start justify-between\">\r\n-                            <div>\r\n-                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n-                              <p className=\"text-2xl font-bold text-primary\">\r\n-                                ${car.price.toLocaleString()}\r\n-                              </p>\r\n-                            </div>\r\n-                            <Badge variant=\"outline\" className=\"capitalize\">\r\n-                              {car.condition}\r\n-                            </Badge>\r\n-                          </div>\r\n-                          \r\n-                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n-                            {car.description}\r\n-                          </p>\r\n-                          \r\n-                          <div className=\"flex flex-wrap gap-2\">\r\n-                            {car.platform.map((platform, index) => (\r\n-                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n-                                {platform.name}\r\n-                              </Badge>\r\n-                            ))}\r\n-                          </div>\r\n-                          \r\n-                          <div className=\"flex gap-2 pt-2\">\r\n-                            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n-                              <Edit className=\"h-4 w-4\" />\r\n-                              Edit\r\n-                            </Button>\r\n-                            <Button variant=\"destructive\" size=\"sm\" className=\"gap-2\">\r\n-                              <Trash2 className=\"h-4 w-4\" />\r\n-                              Delete\r\n-                            </Button>\r\n-                          </div>\r\n-                        </div>\r\n-                      </div>\r\n-                    </Card>\r\n-                  ))\r\n-                )}\r\n-              </CardContent>\r\n-            </Card>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Profile;\r\n-import { useNavigate } from \"react-router-dom\";\r\n-import { useAuth } from \"@/contexts/AuthContext\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n-import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n-import { Badge } from \"@/components/ui/badge\";\r\n-import { Separator } from \"@/components/ui/separator\";\r\n-import { mockCars } from \"@/lib/mockData\";\r\n-import { Mail, Edit, Trash2 } from \"lucide-react\";\r\n-import { useEffect } from \"react\";\r\n-\r\n-const Profile = () => {\r\n-  const { user } = useAuth();\r\n-  const navigate = useNavigate();\r\n-\r\n-  useEffect(() => {\r\n-    if (!user) {\r\n-      navigate(\"/auth?mode=login\");\r\n-    }\r\n-  }, [user, navigate]);\r\n-\r\n-  if (!user) {\r\n-    return null;\r\n-  }\r\n-\r\n   // Mock user's listed cars (in real app, filter by user ID)\r\n   const userCars = mockCars.slice(0, 2);\r\n \r\n   return (\r\n     <div className=\"min-h-screen bg-background\">\r\n-      <div className=\"container mx-auto px-4 py-8\">\r\n+      <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\r\n         <div className=\"grid gap-8 lg:grid-cols-3\">\r\n           {/* Profile Info */}\r\n           <div className=\"lg:col-span-1\">\r\n             <Card className=\"shadow-card\">\r\n@@ -196,18 +63,59 @@\n                 <CardTitle>Profile</CardTitle>\r\n               </CardHeader>\r\n               <CardContent className=\"space-y-6\">\r\n                 <div className=\"flex flex-col items-center text-center\">\r\n-                  <Avatar className=\"h-24 w-24 mb-4\">\r\n-                    <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n-                      {user.name.charAt(0).toUpperCase()}\r\n-                    </AvatarFallback>\r\n-                  </Avatar>\r\n-                  <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n-                  <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n-                    <Mail className=\"h-4 w-4\" />\r\n-                    <span className=\"text-sm\">{user.email}</span>\r\n+                  <div className=\"relative group mb-4\">\r\n+                    <Avatar className=\"h-24 w-24\">\r\n+                      <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n+                        {user.name.charAt(0).toUpperCase()}\r\n+                      </AvatarFallback>\r\n+                    </Avatar>\r\n+                    <button\r\n+                      onClick={handleProfilePictureUpload}\r\n+                      className=\"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-smooth\"\r\n+                    >\r\n+                      <Camera className=\"h-6 w-6 text-white\" />\r\n+                    </button>\r\n                   </div>\r\n+\r\n+                  {isEditingProfile ? (\r\n+                    <div className=\"w-full space-y-3\">\r\n+                      <div className=\"space-y-2\">\r\n+                        <Label htmlFor=\"profile-name\" className=\"text-left\">Full Name</Label>\r\n+                        <Input\r\n+                          id=\"profile-name\"\r\n+                          value={profileName}\r\n+                          onChange={(e) => setProfileName(e.target.value)}\r\n+                        />\r\n+                      </div>\r\n+                      <div className=\"space-y-2\">\r\n+                        <Label htmlFor=\"profile-email\" className=\"text-left\">Email Address</Label>\r\n+                        <Input\r\n+                          id=\"profile-email\"\r\n+                          type=\"email\"\r\n+                          value={profileEmail}\r\n+                          onChange={(e) => setProfileEmail(e.target.value)}\r\n+                        />\r\n+                      </div>\r\n+                      <div className=\"flex gap-2\">\r\n+                        <Button onClick={handleSaveProfile} variant=\"accent\" className=\"flex-1\">\r\n+                          Save\r\n+                        </Button>\r\n+                        <Button variant=\"outline\" onClick={() => setIsEditingProfile(false)} className=\"flex-1\">\r\n+                          Cancel\r\n+                        </Button>\r\n+                      </div>\r\n+                    </div>\r\n+                  ) : (\r\n+                    <>\r\n+                      <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n+                      <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n+                        <Mail className=\"h-4 w-4\" />\r\n+                        <span className=\"text-sm\">{user.email}</span>\r\n+                      </div>\r\n+                    </>\r\n+                  )}\r\n                 </div>\r\n \r\n                 <Separator />\r\n \r\n@@ -223,11 +131,20 @@\n                 </div>\r\n \r\n                 <Separator />\r\n \r\n-                <Button variant=\"outline\" className=\"w-full\">\r\n-                  Edit Profile\r\n-                </Button>\r\n+                {!isEditingProfile && (\r\n+                  <>\r\n+                    <Button variant=\"outline\" className=\"w-full\" onClick={() => setIsEditingProfile(true)}>\r\n+                      <Edit className=\"h-4 w-4 mr-2\" />\r\n+                      Edit Profile\r\n+                    </Button>\r\n+                    <Button variant=\"outline\" className=\"w-full\" onClick={handleLogout}>\r\n+                      <LogOut className=\"h-4 w-4 mr-2\" />\r\n+                      Logout\r\n+                    </Button>\r\n+                  </>\r\n+                )}\r\n               </CardContent>\r\n             </Card>\r\n           </div>\r\n \r\n@@ -314,5 +231,5 @@\n     </div>\r\n   );\r\n };\r\n \r\n-export default Profile;\r\n+export default Profile;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1759939598457,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n                 {userCars.length === 0 ? (\r\n                   <div className=\"py-12 text-center\">\r\n                     <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n                     <Button\r\n-                      variant=\"accent\"\r\n+                      variant=\"default\"\r\n                       className=\"mt-4\"\r\n                       onClick={() => navigate(\"/sell\")}\r\n                     >\r\n                       List Your First Car\r\n"
                },
                {
                    "date": 1759939607346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,235 @@\n+import { useNavigate } from \"react-router-dom\";\r\n+import { useAuth } from \"@/contexts/AuthContext\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n+import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Separator } from \"@/components/ui/separator\";\r\n+import { mockCars } from \"@/lib/mockData\";\r\n+import { Mail, Edit, Trash2, Camera, LogOut } from \"lucide-react\";\r\n+import { useEffect, useState } from \"react\";\r\n+import { toast } from \"@/hooks/use-toast\";\r\n+\r\n+const Profile = () => {\r\n+  const { user, logout } = useAuth();\r\n+  const navigate = useNavigate();\r\n+  const [isEditingProfile, setIsEditingProfile] = useState(false);\r\n+  const [profileName, setProfileName] = useState(user?.name || \"\");\r\n+  const [profileEmail, setProfileEmail] = useState(user?.email || \"\");\r\n+\r\n+  useEffect(() => {\r\n+    if (!user) {\r\n+      navigate(\"/auth?mode=login\");\r\n+    }\r\n+  }, [user, navigate]);\r\n+\r\n+  if (!user) {\r\n+    return null;\r\n+  }\r\n+\r\n+  const handleProfilePictureUpload = () => {\r\n+    toast({\r\n+      title: \"Upload feature\",\r\n+      description: \"Profile picture upload will be available once connected to backend.\",\r\n+    });\r\n+  };\r\n+\r\n+  const handleSaveProfile = () => {\r\n+    toast({\r\n+      title: \"Profile updated\",\r\n+      description: \"Your profile has been updated successfully.\",\r\n+    });\r\n+    setIsEditingProfile(false);\r\n+  };\r\n+\r\n+  const handleLogout = () => {\r\n+    logout();\r\n+    navigate(\"/auth?mode=login\");\r\n+  };\r\n+\r\n+  // Mock user's listed cars (in real app, filter by user ID)\r\n+  const userCars = mockCars.slice(0, 2);\r\n+\r\n+  return (\r\n+    <div className=\"min-h-screen bg-background\">\r\n+      <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\r\n+        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n+          {/* Profile Info */}\r\n+          <div className=\"lg:col-span-1\">\r\n+            <Card className=\"shadow-card\">\r\n+              <CardHeader>\r\n+                <CardTitle>Profile</CardTitle>\r\n+              </CardHeader>\r\n+              <CardContent className=\"space-y-6\">\r\n+                <div className=\"flex flex-col items-center text-center\">\r\n+                  <div className=\"relative group mb-4\">\r\n+                    <Avatar className=\"h-24 w-24\">\r\n+                      <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n+                        {user.name.charAt(0).toUpperCase()}\r\n+                      </AvatarFallback>\r\n+                    </Avatar>\r\n+                    <button\r\n+                      onClick={handleProfilePictureUpload}\r\n+                      className=\"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-smooth\"\r\n+                    >\r\n+                      <Camera className=\"h-6 w-6 text-white\" />\r\n+                    </button>\r\n+                  </div>\r\n+\r\n+                  {isEditingProfile ? (\r\n+                    <div className=\"w-full space-y-3\">\r\n+                      <div className=\"space-y-2\">\r\n+                        <Label htmlFor=\"profile-name\" className=\"text-left\">Full Name</Label>\r\n+                        <Input\r\n+                          id=\"profile-name\"\r\n+                          value={profileName}\r\n+                          onChange={(e) => setProfileName(e.target.value)}\r\n+                        />\r\n+                      </div>\r\n+                      <div className=\"space-y-2\">\r\n+                        <Label htmlFor=\"profile-email\" className=\"text-left\">Email Address</Label>\r\n+                        <Input\r\n+                          id=\"profile-email\"\r\n+                          type=\"email\"\r\n+                          value={profileEmail}\r\n+                          onChange={(e) => setProfileEmail(e.target.value)}\r\n+                        />\r\n+                      </div>\r\n+                      <div className=\"flex gap-2\">\r\n+                        <Button onClick={handleSaveProfile} variant=\"default\" className=\"flex-1\">\r\n+                          Save\r\n+                        </Button>\r\n+                        <Button variant=\"outline\" onClick={() => setIsEditingProfile(false)} className=\"flex-1\">\r\n+                          Cancel\r\n+                        </Button>\r\n+                      </div>\r\n+                    </div>\r\n+                  ) : (\r\n+                    <>\r\n+                      <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n+                      <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n+                        <Mail className=\"h-4 w-4\" />\r\n+                        <span className=\"text-sm\">{user.email}</span>\r\n+                      </div>\r\n+                    </>\r\n+                  )}\r\n+                </div>\r\n+\r\n+                <Separator />\r\n+\r\n+                <div className=\"space-y-2\">\r\n+                  <div className=\"flex justify-between text-sm\">\r\n+                    <span className=\"text-muted-foreground\">Member Since</span>\r\n+                    <span className=\"font-medium\">Oct 2025</span>\r\n+                  </div>\r\n+                  <div className=\"flex justify-between text-sm\">\r\n+                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n+                    <span className=\"font-medium\">{userCars.length}</span>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <Separator />\r\n+\r\n+                {!isEditingProfile && (\r\n+                  <>\r\n+                    <Button variant=\"outline\" className=\"w-full\" onClick={() => setIsEditingProfile(true)}>\r\n+                      <Edit className=\"h-4 w-4 mr-2\" />\r\n+                      Edit Profile\r\n+                    </Button>\r\n+                    <Button variant=\"outline\" className=\"w-full\" onClick={handleLogout}>\r\n+                      <LogOut className=\"h-4 w-4 mr-2\" />\r\n+                      Logout\r\n+                    </Button>\r\n+                  </>\r\n+                )}\r\n+              </CardContent>\r\n+            </Card>\r\n+          </div>\r\n+\r\n+          {/* User's Cars */}\r\n+          <div className=\"lg:col-span-2\">\r\n+            <Card className=\"shadow-card\">\r\n+              <CardHeader>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <CardTitle>My Listings</CardTitle>\r\n+                  <Button variant=\"default\" onClick={() => navigate(\"/sell\")}>\r\n+                    Add New Listing\r\n+                  </Button>\r\n+                </div>\r\n+              </CardHeader>\r\n+              <CardContent className=\"space-y-4\">\r\n+                {userCars.length === 0 ? (\r\n+                  <div className=\"py-12 text-center\">\r\n+                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n+                    <Button\r\n+                      variant=\"default\"\r\n+                      className=\"mt-4\"\r\n+                      onClick={() => navigate(\"/sell\")}\r\n+                    >\r\n+                      List Your First Car\r\n+                    </Button>\r\n+                  </div>\r\n+                ) : (\r\n+                  userCars.map((car) => (\r\n+                    <Card key={car.id} className=\"overflow-hidden\">\r\n+                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n+                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n+                          <img\r\n+                            src={car.images[0]}\r\n+                            alt={car.title}\r\n+                            className=\"h-full w-full object-cover\"\r\n+                          />\r\n+                        </div>\r\n+                        \r\n+                        <div className=\"flex-1 space-y-2\">\r\n+                          <div className=\"flex items-start justify-between\">\r\n+                            <div>\r\n+                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n+                              <p className=\"text-2xl font-bold text-primary\">\r\n+                                ${car.price.toLocaleString()}\r\n+                              </p>\r\n+                            </div>\r\n+                            <Badge variant=\"outline\" className=\"capitalize\">\r\n+                              {car.condition}\r\n+                            </Badge>\r\n+                          </div>\r\n+                          \r\n+                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n+                            {car.description}\r\n+                          </p>\r\n+                          \r\n+                          <div className=\"flex flex-wrap gap-2\">\r\n+                            {car.platform.map((platform, index) => (\r\n+                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n+                                {platform.name}\r\n+                              </Badge>\r\n+                            ))}\r\n+                          </div>\r\n+                          \r\n+                          <div className=\"flex gap-2 pt-2\">\r\n+                            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n+                              <Edit className=\"h-4 w-4\" />\r\n+                              Edit\r\n+                            </Button>\r\n+                            <Button variant=\"destructive\" size=\"sm\" className=\"gap-2\">\r\n+                              <Trash2 className=\"h-4 w-4\" />\r\n+                              Delete\r\n+                            </Button>\r\n+                          </div>\r\n+                        </div>\r\n+                      </div>\r\n+                    </Card>\r\n+                  ))\r\n+                )}\r\n+              </CardContent>\r\n+            </Card>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Profile;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763930072299,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,311 @@\n+// src/pages/Profile.tsx\r\n+import { useNavigate } from \"react-router-dom\";\r\n+import { useAuth } from \"@/contexts/AuthContext\";\r\n+import { Button } from \"@/components/ui/button\";\r\n+import { Input } from \"@/components/ui/input\";\r\n+import { Label } from \"@/components/ui/label\";\r\n+import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n+import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n+import { Badge } from \"@/components/ui/badge\";\r\n+import { Separator } from \"@/components/ui/separator\";\r\n+import { Mail, Edit, Trash2, Camera, LogOut } from \"lucide-react\";\r\n+import { useEffect, useState } from \"react\";\r\n+import { toast } from \"@/hooks/use-toast\";\r\n+import axios from \"axios\";\r\n+import { API_BASE_URL } from \"@/api/cars\";\r\n+import type { ApiCar } from \"@/api/cars\";\r\n+import { mapApiCarToCar } from \"@/utils/mapApiCarToCar\";\r\n+import type { Car } from \"@/types/car\";\r\n+\r\n+const Profile = () => {\r\n+  const { user, logout } = useAuth();\r\n+  const navigate = useNavigate();\r\n+\r\n+  const [isEditingProfile, setIsEditingProfile] = useState(false);\r\n+  const [profileName, setProfileName] = useState(user?.name || \"\");\r\n+  const [profileEmail, setProfileEmail] = useState(user?.email || \"\");\r\n+\r\n+  const [myCars, setMyCars] = useState<Car[]>([]);\r\n+  const [loadingCars, setLoadingCars] = useState(true);\r\n+\r\n+  // Redirect if not logged in\r\n+  useEffect(() => {\r\n+    if (!user) navigate(\"/auth?mode=login\");\r\n+  }, [user]);\r\n+\r\n+  // Fetch cars belonging to logged-in user\r\n+  const fetchUserCars = async () => {\r\n+    if (!user) return;\r\n+\r\n+    setLoadingCars(true);\r\n+\r\n+    try {\r\n+      const res = await axios.get(`${API_BASE_URL}/api/cars`);\r\n+      const allCars: ApiCar[] = res.data;\r\n+\r\n+      const mine = allCars.filter((car) => car.seller?._id === user._id);\r\n+      setMyCars(mine.map(mapApiCarToCar));\r\n+    } catch (err) {\r\n+      console.error(\"Error loading cars:\", err);\r\n+    }\r\n+\r\n+    setLoadingCars(false);\r\n+  };\r\n+\r\n+  useEffect(() => {\r\n+    fetchUserCars();\r\n+  }, [user]);\r\n+\r\n+  const handleProfilePictureUpload = () => {\r\n+    toast({\r\n+      title: \"Upload feature\",\r\n+      description: \"Coming soon: Profile picture upload.\",\r\n+    });\r\n+  };\r\n+\r\n+  const handleSaveProfile = () => {\r\n+    toast({\r\n+      title: \"Profile updated\",\r\n+      description: \"Profile settings saved.\",\r\n+    });\r\n+    setIsEditingProfile(false);\r\n+  };\r\n+\r\n+  const handleLogout = () => {\r\n+    logout();\r\n+    navigate(\"/auth?mode=login\");\r\n+  };\r\n+\r\n+  const handleDeleteCar = async (carId: string) => {\r\n+    if (!confirm(\"Are you sure you want to delete this listing?\")) return;\r\n+\r\n+    try {\r\n+      await axios.delete(`${API_BASE_URL}/api/cars/${carId}`, {\r\n+        headers: { Authorization: `Bearer ${user?.token}` },\r\n+      });\r\n+\r\n+      toast({ title: \"Car deleted successfully!\" });\r\n+\r\n+      // Refresh user's car list\r\n+      fetchUserCars();\r\n+    } catch (err: any) {\r\n+      toast({\r\n+        title: \"Error deleting car\",\r\n+        description: err?.response?.data?.message ?? \"Something went wrong.\",\r\n+        variant: \"destructive\",\r\n+      });\r\n+    }\r\n+  };\r\n+\r\n+  if (!user) return null;\r\n+\r\n+  return (\r\n+    <div className=\"min-h-screen bg-background\">\r\n+      <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\r\n+        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n+          {/* PROFILE COLUMN */}\r\n+          <div className=\"lg:col-span-1\">\r\n+            <Card className=\"shadow-card\">\r\n+              <CardHeader>\r\n+                <CardTitle>Profile</CardTitle>\r\n+              </CardHeader>\r\n+              <CardContent className=\"space-y-6\">\r\n+                <div className=\"flex flex-col items-center text-center\">\r\n+                  <div className=\"relative group mb-4\">\r\n+                    <Avatar className=\"h-24 w-24\">\r\n+                      <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n+                        {user.name.charAt(0).toUpperCase()}\r\n+                      </AvatarFallback>\r\n+                    </Avatar>\r\n+                    <button\r\n+                      onClick={handleProfilePictureUpload}\r\n+                      className=\"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-smooth\"\r\n+                    >\r\n+                      <Camera className=\"h-6 w-6 text-white\" />\r\n+                    </button>\r\n+                  </div>\r\n+\r\n+                  {isEditingProfile ? (\r\n+                    <div className=\"w-full space-y-3\">\r\n+                      <div className=\"space-y-2\">\r\n+                        <Label htmlFor=\"profile-name\">Full Name</Label>\r\n+                        <Input\r\n+                          id=\"profile-name\"\r\n+                          value={profileName}\r\n+                          onChange={(e) => setProfileName(e.target.value)}\r\n+                        />\r\n+                      </div>\r\n+\r\n+                      <div className=\"space-y-2\">\r\n+                        <Label htmlFor=\"profile-email\">Email</Label>\r\n+                        <Input\r\n+                          id=\"profile-email\"\r\n+                          type=\"email\"\r\n+                          value={profileEmail}\r\n+                          onChange={(e) => setProfileEmail(e.target.value)}\r\n+                        />\r\n+                      </div>\r\n+\r\n+                      <div className=\"flex gap-2\">\r\n+                        <Button onClick={handleSaveProfile} className=\"flex-1\">\r\n+                          Save\r\n+                        </Button>\r\n+                        <Button\r\n+                          variant=\"outline\"\r\n+                          className=\"flex-1\"\r\n+                          onClick={() => setIsEditingProfile(false)}\r\n+                        >\r\n+                          Cancel\r\n+                        </Button>\r\n+                      </div>\r\n+                    </div>\r\n+                  ) : (\r\n+                    <>\r\n+                      <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n+                      <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n+                        <Mail className=\"h-4 w-4\" />\r\n+                        <span className=\"text-sm\">{user.email}</span>\r\n+                      </div>\r\n+                    </>\r\n+                  )}\r\n+                </div>\r\n+\r\n+                <Separator />\r\n+\r\n+                <div className=\"space-y-2\">\r\n+                  <div className=\"flex justify-between text-sm\">\r\n+                    <span className=\"text-muted-foreground\">Account</span>\r\n+                    <span className=\"font-medium\">Active</span>\r\n+                  </div>\r\n+                  <div className=\"flex justify-between text-sm\">\r\n+                    <span className=\"text-muted-foreground\">Listings</span>\r\n+                    <span className=\"font-medium\">{myCars.length}</span>\r\n+                  </div>\r\n+                </div>\r\n+\r\n+                <Separator />\r\n+\r\n+                {!isEditingProfile && (\r\n+                  <>\r\n+                    <Button\r\n+                      variant=\"outline\"\r\n+                      className=\"w-full\"\r\n+                      onClick={() => setIsEditingProfile(true)}\r\n+                    >\r\n+                      <Edit className=\"h-4 w-4 mr-2\" />\r\n+                      Edit Profile\r\n+                    </Button>\r\n+\r\n+                    <Button\r\n+                      variant=\"outline\"\r\n+                      className=\"w-full\"\r\n+                      onClick={handleLogout}\r\n+                    >\r\n+                      <LogOut className=\"h-4 w-4 mr-2\" />\r\n+                      Logout\r\n+                    </Button>\r\n+                  </>\r\n+                )}\r\n+              </CardContent>\r\n+            </Card>\r\n+          </div>\r\n+\r\n+          {/* USER CARS COLUMN */}\r\n+          <div className=\"lg:col-span-2\">\r\n+            <Card className=\"shadow-card\">\r\n+              <CardHeader className=\"flex justify-between items-center\">\r\n+                <CardTitle>My Listings</CardTitle>\r\n+                <Button onClick={() => navigate(\"/sell\")}>Add New Listing</Button>\r\n+              </CardHeader>\r\n+\r\n+              <CardContent className=\"space-y-4\">\r\n+                {loadingCars ? (\r\n+                  <p className=\"py-12 text-center text-muted-foreground\">\r\n+                    Loading your cars...\r\n+                  </p>\r\n+                ) : myCars.length === 0 ? (\r\n+                  <div className=\"py-12 text-center\">\r\n+                    <p className=\"text-muted-foreground\">\r\n+                      You havenâ€™t listed any cars yet.\r\n+                    </p>\r\n+                    <Button className=\"mt-4\" onClick={() => navigate(\"/sell\")}>\r\n+                      List Your First Car\r\n+                    </Button>\r\n+                  </div>\r\n+                ) : (\r\n+                  myCars.map((car) => (\r\n+                    <Card key={car.id} className=\"overflow-hidden\">\r\n+                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n+                        {/* IMAGE */}\r\n+                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n+                          <img\r\n+                            src={car.images[0]}\r\n+                            alt={car.title}\r\n+                            className=\"h-full w-full object-cover\"\r\n+                          />\r\n+                        </div>\r\n+\r\n+                        {/* DETAILS */}\r\n+                        <div className=\"flex-1 space-y-2\">\r\n+                          <div className=\"flex items-start justify-between\">\r\n+                            <div>\r\n+                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n+                              <p className=\"text-2xl font-bold text-primary\">\r\n+                                ${car.price.toLocaleString()}\r\n+                              </p>\r\n+                            </div>\r\n+\r\n+                            <Badge variant=\"outline\" className=\"capitalize\">\r\n+                              {car.condition}\r\n+                            </Badge>\r\n+                          </div>\r\n+\r\n+                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n+                            {car.description}\r\n+                          </p>\r\n+\r\n+                          <div className=\"flex flex-wrap gap-2\">\r\n+                            {car.platform.map((p, i) => (\r\n+                              <Badge key={i} variant=\"secondary\" className=\"text-xs\">\r\n+                                {p.name}\r\n+                              </Badge>\r\n+                            ))}\r\n+                          </div>\r\n+\r\n+                          {/* ACTIONS */}\r\n+                          <div className=\"flex gap-2 pt-2\">\r\n+                            <Button\r\n+                              variant=\"outline\"\r\n+                              size=\"sm\"\r\n+                              className=\"gap-2\"\r\n+                              onClick={() => navigate(`/edit-car/${car.id}`)}\r\n+                            >\r\n+                              <Edit className=\"h-4 w-4\" />\r\n+                              Edit\r\n+                            </Button>\r\n+\r\n+                            <Button\r\n+                              variant=\"destructive\"\r\n+                              size=\"sm\"\r\n+                              className=\"gap-2\"\r\n+                              onClick={() => handleDeleteCar(car.id)}\r\n+                            >\r\n+                              <Trash2 className=\"h-4 w-4\" />\r\n+                              Delete\r\n+                            </Button>\r\n+                          </div>\r\n+                        </div>\r\n+                      </div>\r\n+                    </Card>\r\n+                  ))\r\n+                )}\r\n+              </CardContent>\r\n+            </Card>\r\n+          </div>\r\n+        </div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Profile;\r\n"
                },
                {
                    "date": 1763931007447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,11 @@\n import { API_BASE_URL } from \"@/api/cars\";\r\n import type { ApiCar } from \"@/api/cars\";\r\n import { mapApiCarToCar } from \"@/utils/mapApiCarToCar\";\r\n import type { Car } from \"@/types/car\";\r\n+import type { AxiosError } from \"axios\";\r\n \r\n+\r\n const Profile = () => {\r\n   const { user, logout } = useAuth();\r\n   const navigate = useNavigate();\r\n \r\n"
                },
                {
                    "date": 1763931015694,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,28 +78,31 @@\n     navigate(\"/auth?mode=login\");\r\n   };\r\n \r\n   const handleDeleteCar = async (carId: string) => {\r\n-    if (!confirm(\"Are you sure you want to delete this listing?\")) return;\r\n+  if (!confirm(\"Are you sure you want to delete this listing?\")) return;\r\n \r\n-    try {\r\n-      await axios.delete(`${API_BASE_URL}/api/cars/${carId}`, {\r\n-        headers: { Authorization: `Bearer ${user?.token}` },\r\n-      });\r\n+  try {\r\n+    await axios.delete(`${API_BASE_URL}/api/cars/${carId}`, {\r\n+      headers: { Authorization: `Bearer ${user?.token}` },\r\n+    });\r\n \r\n-      toast({ title: \"Car deleted successfully!\" });\r\n+    toast({ title: \"Car deleted successfully!\" });\r\n \r\n-      // Refresh user's car list\r\n-      fetchUserCars();\r\n-    } catch (err: any) {\r\n-      toast({\r\n-        title: \"Error deleting car\",\r\n-        description: err?.response?.data?.message ?? \"Something went wrong.\",\r\n-        variant: \"destructive\",\r\n-      });\r\n-    }\r\n-  };\r\n+    fetchUserCars(); // refresh\r\n+  } catch (err: unknown) {\r\n+    const axiosErr = err as AxiosError<{ message?: string }>;\r\n \r\n+    toast({\r\n+      title: \"Error deleting car\",\r\n+      description:\r\n+        axiosErr.response?.data?.message || \"Something went wrong.\",\r\n+      variant: \"destructive\",\r\n+    });\r\n+  }\r\n+};\r\n+\r\n+\r\n   if (!user) return null;\r\n \r\n   return (\r\n     <div className=\"min-h-screen bg-background\">\r\n@@ -310,474 +313,4 @@\n   );\r\n };\r\n \r\n export default Profile;\r\n-import { useNavigate } from \"react-router-dom\";\r\n-import { useAuth } from \"@/contexts/AuthContext\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { Input } from \"@/components/ui/input\";\r\n-import { Label } from \"@/components/ui/label\";\r\n-import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n-import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n-import { Badge } from \"@/components/ui/badge\";\r\n-import { Separator } from \"@/components/ui/separator\";\r\n-import { mockCars } from \"@/lib/mockData\";\r\n-import { Mail, Edit, Trash2, Camera, LogOut } from \"lucide-react\";\r\n-import { useEffect, useState } from \"react\";\r\n-import { toast } from \"@/hooks/use-toast\";\r\n-\r\n-const Profile = () => {\r\n-  const { user, logout } = useAuth();\r\n-  const navigate = useNavigate();\r\n-  const [isEditingProfile, setIsEditingProfile] = useState(false);\r\n-  const [profileName, setProfileName] = useState(user?.name || \"\");\r\n-  const [profileEmail, setProfileEmail] = useState(user?.email || \"\");\r\n-\r\n-  useEffect(() => {\r\n-    if (!user) {\r\n-      navigate(\"/auth?mode=login\");\r\n-    }\r\n-  }, [user, navigate]);\r\n-\r\n-  if (!user) {\r\n-    return null;\r\n-  }\r\n-\r\n-  const handleProfilePictureUpload = () => {\r\n-    toast({\r\n-      title: \"Upload feature\",\r\n-      description: \"Profile picture upload will be available once connected to backend.\",\r\n-    });\r\n-  };\r\n-\r\n-  const handleSaveProfile = () => {\r\n-    toast({\r\n-      title: \"Profile updated\",\r\n-      description: \"Your profile has been updated successfully.\",\r\n-    });\r\n-    setIsEditingProfile(false);\r\n-  };\r\n-\r\n-  const handleLogout = () => {\r\n-    logout();\r\n-    navigate(\"/auth?mode=login\");\r\n-  };\r\n-\r\n-  // Mock user's listed cars (in real app, filter by user ID)\r\n-  const userCars = mockCars.slice(0, 2);\r\n-\r\n-  return (\r\n-    <div className=\"min-h-screen bg-background\">\r\n-      <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\r\n-        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n-          {/* Profile Info */}\r\n-          <div className=\"lg:col-span-1\">\r\n-            <Card className=\"shadow-card\">\r\n-              <CardHeader>\r\n-                <CardTitle>Profile</CardTitle>\r\n-              </CardHeader>\r\n-              <CardContent className=\"space-y-6\">\r\n-                <div className=\"flex flex-col items-center text-center\">\r\n-                  <div className=\"relative group mb-4\">\r\n-                    <Avatar className=\"h-24 w-24\">\r\n-                      <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n-                        {user.name.charAt(0).toUpperCase()}\r\n-                      </AvatarFallback>\r\n-                    </Avatar>\r\n-                    <button\r\n-                      onClick={handleProfilePictureUpload}\r\n-                      className=\"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-smooth\"\r\n-                    >\r\n-                      <Camera className=\"h-6 w-6 text-white\" />\r\n-                    </button>\r\n-                  </div>\r\n-\r\n-                  {isEditingProfile ? (\r\n-                    <div className=\"w-full space-y-3\">\r\n-                      <div className=\"space-y-2\">\r\n-                        <Label htmlFor=\"profile-name\" className=\"text-left\">Full Name</Label>\r\n-                        <Input\r\n-                          id=\"profile-name\"\r\n-                          value={profileName}\r\n-                          onChange={(e) => setProfileName(e.target.value)}\r\n-                        />\r\n-                      </div>\r\n-                      <div className=\"space-y-2\">\r\n-                        <Label htmlFor=\"profile-email\" className=\"text-left\">Email Address</Label>\r\n-                        <Input\r\n-                          id=\"profile-email\"\r\n-                          type=\"email\"\r\n-                          value={profileEmail}\r\n-                          onChange={(e) => setProfileEmail(e.target.value)}\r\n-                        />\r\n-                      </div>\r\n-                      <div className=\"flex gap-2\">\r\n-                        <Button onClick={handleSaveProfile} variant=\"default\" className=\"flex-1\">\r\n-                          Save\r\n-                        </Button>\r\n-                        <Button variant=\"outline\" onClick={() => setIsEditingProfile(false)} className=\"flex-1\">\r\n-                          Cancel\r\n-                        </Button>\r\n-                      </div>\r\n-                    </div>\r\n-                  ) : (\r\n-                    <>\r\n-                      <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n-                      <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n-                        <Mail className=\"h-4 w-4\" />\r\n-                        <span className=\"text-sm\">{user.email}</span>\r\n-                      </div>\r\n-                    </>\r\n-                  )}\r\n-                </div>\r\n-\r\n-                <Separator />\r\n-\r\n-                <div className=\"space-y-2\">\r\n-                  <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Member Since</span>\r\n-                    <span className=\"font-medium\">Oct 2025</span>\r\n-                  </div>\r\n-                  <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n-                    <span className=\"font-medium\">{userCars.length}</span>\r\n-                  </div>\r\n-                </div>\r\n-\r\n-                <Separator />\r\n-\r\n-                {!isEditingProfile && (\r\n-                  <>\r\n-                    <Button variant=\"outline\" className=\"w-full\" onClick={() => setIsEditingProfile(true)}>\r\n-                      <Edit className=\"h-4 w-4 mr-2\" />\r\n-                      Edit Profile\r\n-                    </Button>\r\n-                    <Button variant=\"outline\" className=\"w-full\" onClick={handleLogout}>\r\n-                      <LogOut className=\"h-4 w-4 mr-2\" />\r\n-                      Logout\r\n-                    </Button>\r\n-                  </>\r\n-                )}\r\n-              </CardContent>\r\n-            </Card>\r\n-          </div>\r\n-\r\n-          {/* User's Cars */}\r\n-          <div className=\"lg:col-span-2\">\r\n-            <Card className=\"shadow-card\">\r\n-              <CardHeader>\r\n-                <div className=\"flex items-center justify-between\">\r\n-                  <CardTitle>My Listings</CardTitle>\r\n-                  <Button variant=\"default\" onClick={() => navigate(\"/sell\")}>\r\n-                    Add New Listing\r\n-                  </Button>\r\n-                </div>\r\n-              </CardHeader>\r\n-              <CardContent className=\"space-y-4\">\r\n-                {userCars.length === 0 ? (\r\n-                  <div className=\"py-12 text-center\">\r\n-                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n-                    <Button\r\n-                      variant=\"default\"\r\n-                      className=\"mt-4\"\r\n-                      onClick={() => navigate(\"/sell\")}\r\n-                    >\r\n-                      List Your First Car\r\n-                    </Button>\r\n-                  </div>\r\n-                ) : (\r\n-                  userCars.map((car) => (\r\n-                    <Card key={car.id} className=\"overflow-hidden\">\r\n-                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n-                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n-                          <img\r\n-                            src={car.images[0]}\r\n-                            alt={car.title}\r\n-                            className=\"h-full w-full object-cover\"\r\n-                          />\r\n-                        </div>\r\n-                        \r\n-                        <div className=\"flex-1 space-y-2\">\r\n-                          <div className=\"flex items-start justify-between\">\r\n-                            <div>\r\n-                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n-                              <p className=\"text-2xl font-bold text-primary\">\r\n-                                ${car.price.toLocaleString()}\r\n-                              </p>\r\n-                            </div>\r\n-                            <Badge variant=\"outline\" className=\"capitalize\">\r\n-                              {car.condition}\r\n-                            </Badge>\r\n-                          </div>\r\n-                          \r\n-                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n-                            {car.description}\r\n-                          </p>\r\n-                          \r\n-                          <div className=\"flex flex-wrap gap-2\">\r\n-                            {car.platform.map((platform, index) => (\r\n-                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n-                                {platform.name}\r\n-                              </Badge>\r\n-                            ))}\r\n-                          </div>\r\n-                          \r\n-                          <div className=\"flex gap-2 pt-2\">\r\n-                            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n-                              <Edit className=\"h-4 w-4\" />\r\n-                              Edit\r\n-                            </Button>\r\n-                            <Button variant=\"destructive\" size=\"sm\" className=\"gap-2\">\r\n-                              <Trash2 className=\"h-4 w-4\" />\r\n-                              Delete\r\n-                            </Button>\r\n-                          </div>\r\n-                        </div>\r\n-                      </div>\r\n-                    </Card>\r\n-                  ))\r\n-                )}\r\n-              </CardContent>\r\n-            </Card>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Profile;\n-import { useNavigate } from \"react-router-dom\";\r\n-import { useAuth } from \"@/contexts/AuthContext\";\r\n-import { Button } from \"@/components/ui/button\";\r\n-import { Input } from \"@/components/ui/input\";\r\n-import { Label } from \"@/components/ui/label\";\r\n-import { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\n-import { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\n-import { Badge } from \"@/components/ui/badge\";\r\n-import { Separator } from \"@/components/ui/separator\";\r\n-import { mockCars } from \"@/lib/mockData\";\r\n-import { Mail, Edit, Trash2, Camera, LogOut } from \"lucide-react\";\r\n-import { useEffect, useState } from \"react\";\r\n-import { toast } from \"@/hooks/use-toast\";\r\n-\r\n-const Profile = () => {\r\n-  const { user, logout } = useAuth();\r\n-  const navigate = useNavigate();\r\n-  const [isEditingProfile, setIsEditingProfile] = useState(false);\r\n-  const [profileName, setProfileName] = useState(user?.name || \"\");\r\n-  const [profileEmail, setProfileEmail] = useState(user?.email || \"\");\r\n-\r\n-  useEffect(() => {\r\n-    if (!user) {\r\n-      navigate(\"/auth?mode=login\");\r\n-    }\r\n-  }, [user, navigate]);\r\n-\r\n-  if (!user) {\r\n-    return null;\r\n-  }\r\n-\r\n-  const handleProfilePictureUpload = () => {\r\n-    toast({\r\n-      title: \"Upload feature\",\r\n-      description: \"Profile picture upload will be available once connected to backend.\",\r\n-    });\r\n-  };\r\n-\r\n-  const handleSaveProfile = () => {\r\n-    toast({\r\n-      title: \"Profile updated\",\r\n-      description: \"Your profile has been updated successfully.\",\r\n-    });\r\n-    setIsEditingProfile(false);\r\n-  };\r\n-\r\n-  const handleLogout = () => {\r\n-    logout();\r\n-    navigate(\"/auth?mode=login\");\r\n-  };\r\n-\r\n-  // Mock user's listed cars (in real app, filter by user ID)\r\n-  const userCars = mockCars.slice(0, 2);\r\n-\r\n-  return (\r\n-    <div className=\"min-h-screen bg-background\">\r\n-      <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\r\n-        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n-          {/* Profile Info */}\r\n-          <div className=\"lg:col-span-1\">\r\n-            <Card className=\"shadow-card\">\r\n-              <CardHeader>\r\n-                <CardTitle>Profile</CardTitle>\r\n-              </CardHeader>\r\n-              <CardContent className=\"space-y-6\">\r\n-                <div className=\"flex flex-col items-center text-center\">\r\n-                  <div className=\"relative group mb-4\">\r\n-                    <Avatar className=\"h-24 w-24\">\r\n-                      <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n-                        {user.name.charAt(0).toUpperCase()}\r\n-                      </AvatarFallback>\r\n-                    </Avatar>\r\n-                    <button\r\n-                      onClick={handleProfilePictureUpload}\r\n-                      className=\"absolute inset-0 flex items-center justify-center rounded-full bg-black/50 opacity-0 group-hover:opacity-100 transition-smooth\"\r\n-                    >\r\n-                      <Camera className=\"h-6 w-6 text-white\" />\r\n-                    </button>\r\n-                  </div>\r\n-\r\n-                  {isEditingProfile ? (\r\n-                    <div className=\"w-full space-y-3\">\r\n-                      <div className=\"space-y-2\">\r\n-                        <Label htmlFor=\"profile-name\" className=\"text-left\">Full Name</Label>\r\n-                        <Input\r\n-                          id=\"profile-name\"\r\n-                          value={profileName}\r\n-                          onChange={(e) => setProfileName(e.target.value)}\r\n-                        />\r\n-                      </div>\r\n-                      <div className=\"space-y-2\">\r\n-                        <Label htmlFor=\"profile-email\" className=\"text-left\">Email Address</Label>\r\n-                        <Input\r\n-                          id=\"profile-email\"\r\n-                          type=\"email\"\r\n-                          value={profileEmail}\r\n-                          onChange={(e) => setProfileEmail(e.target.value)}\r\n-                        />\r\n-                      </div>\r\n-                      <div className=\"flex gap-2\">\r\n-                        <Button onClick={handleSaveProfile} variant=\"accent\" className=\"flex-1\">\r\n-                          Save\r\n-                        </Button>\r\n-                        <Button variant=\"outline\" onClick={() => setIsEditingProfile(false)} className=\"flex-1\">\r\n-                          Cancel\r\n-                        </Button>\r\n-                      </div>\r\n-                    </div>\r\n-                  ) : (\r\n-                    <>\r\n-                      <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n-                      <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n-                        <Mail className=\"h-4 w-4\" />\r\n-                        <span className=\"text-sm\">{user.email}</span>\r\n-                      </div>\r\n-                    </>\r\n-                  )}\r\n-                </div>\r\n-\r\n-                <Separator />\r\n-\r\n-                <div className=\"space-y-2\">\r\n-                  <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Member Since</span>\r\n-                    <span className=\"font-medium\">Oct 2025</span>\r\n-                  </div>\r\n-                  <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n-                    <span className=\"font-medium\">{userCars.length}</span>\r\n-                  </div>\r\n-                </div>\r\n-\r\n-                <Separator />\r\n-\r\n-                {!isEditingProfile && (\r\n-                  <>\r\n-                    <Button variant=\"outline\" className=\"w-full\" onClick={() => setIsEditingProfile(true)}>\r\n-                      <Edit className=\"h-4 w-4 mr-2\" />\r\n-                      Edit Profile\r\n-                    </Button>\r\n-                    <Button variant=\"outline\" className=\"w-full\" onClick={handleLogout}>\r\n-                      <LogOut className=\"h-4 w-4 mr-2\" />\r\n-                      Logout\r\n-                    </Button>\r\n-                  </>\r\n-                )}\r\n-              </CardContent>\r\n-            </Card>\r\n-          </div>\r\n-\r\n-          {/* User's Cars */}\r\n-          <div className=\"lg:col-span-2\">\r\n-            <Card className=\"shadow-card\">\r\n-              <CardHeader>\r\n-                <div className=\"flex items-center justify-between\">\r\n-                  <CardTitle>My Listings</CardTitle>\r\n-                  <Button variant=\"accent\" onClick={() => navigate(\"/sell\")}>\r\n-                    Add New Listing\r\n-                  </Button>\r\n-                </div>\r\n-              </CardHeader>\r\n-              <CardContent className=\"space-y-4\">\r\n-                {userCars.length === 0 ? (\r\n-                  <div className=\"py-12 text-center\">\r\n-                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n-                    <Button\r\n-                      variant=\"default\"\r\n-                      className=\"mt-4\"\r\n-                      onClick={() => navigate(\"/sell\")}\r\n-                    >\r\n-                      List Your First Car\r\n-                    </Button>\r\n-                  </div>\r\n-                ) : (\r\n-                  userCars.map((car) => (\r\n-                    <Card key={car.id} className=\"overflow-hidden\">\r\n-                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n-                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n-                          <img\r\n-                            src={car.images[0]}\r\n-                            alt={car.title}\r\n-                            className=\"h-full w-full object-cover\"\r\n-                          />\r\n-                        </div>\r\n-                        \r\n-                        <div className=\"flex-1 space-y-2\">\r\n-                          <div className=\"flex items-start justify-between\">\r\n-                            <div>\r\n-                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n-                              <p className=\"text-2xl font-bold text-primary\">\r\n-                                ${car.price.toLocaleString()}\r\n-                              </p>\r\n-                            </div>\r\n-                            <Badge variant=\"outline\" className=\"capitalize\">\r\n-                              {car.condition}\r\n-                            </Badge>\r\n-                          </div>\r\n-                          \r\n-                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n-                            {car.description}\r\n-                          </p>\r\n-                          \r\n-                          <div className=\"flex flex-wrap gap-2\">\r\n-                            {car.platform.map((platform, index) => (\r\n-                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n-                                {platform.name}\r\n-                              </Badge>\r\n-                            ))}\r\n-                          </div>\r\n-                          \r\n-                          <div className=\"flex gap-2 pt-2\">\r\n-                            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n-                              <Edit className=\"h-4 w-4\" />\r\n-                              Edit\r\n-                            </Button>\r\n-                            <Button variant=\"destructive\" size=\"sm\" className=\"gap-2\">\r\n-                              <Trash2 className=\"h-4 w-4\" />\r\n-                              Delete\r\n-                            </Button>\r\n-                          </div>\r\n-                        </div>\r\n-                      </div>\r\n-                    </Card>\r\n-                  ))\r\n-                )}\r\n-              </CardContent>\r\n-            </Card>\r\n-          </div>\r\n-        </div>\r\n-      </div>\r\n-    </div>\r\n-  );\r\n-};\r\n-\r\n-export default Profile;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763933449931,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,4 @@\n-// src/pages/Profile.tsx\r\n import { useNavigate } from \"react-router-dom\";\r\n import { useAuth } from \"@/contexts/AuthContext\";\r\n import { Button } from \"@/components/ui/button\";\r\n import { Input } from \"@/components/ui/input\";\r\n@@ -10,15 +9,19 @@\n import { Separator } from \"@/components/ui/separator\";\r\n import { Mail, Edit, Trash2, Camera, LogOut } from \"lucide-react\";\r\n import { useEffect, useState } from \"react\";\r\n import { toast } from \"@/hooks/use-toast\";\r\n-import axios from \"axios\";\r\n-import { API_BASE_URL } from \"@/api/cars\";\r\n-import type { ApiCar } from \"@/api/cars\";\r\n+import { getMyCars, deleteCar } from \"@/api/cars\";\r\n import { mapApiCarToCar } from \"@/utils/mapApiCarToCar\";\r\n-import type { Car } from \"@/types/car\";\r\n-import type { AxiosError } from \"axios\";\r\n+import type { Car as CarType } from \"@/types/car\";\r\n \r\n+function getAxiosMessage(err: unknown, fallback = \"Something went wrong.\") {\r\n+  if (err && typeof err === \"object\" && \"response\" in err) {\r\n+    const e = err as { response?: { data?: { message?: string } } };\r\n+    return e.response?.data?.message ?? fallback;\r\n+  }\r\n+  return fallback;\r\n+}\r\n \r\n const Profile = () => {\r\n   const { user, logout } = useAuth();\r\n   const navigate = useNavigate();\r\n@@ -26,50 +29,46 @@\n   const [isEditingProfile, setIsEditingProfile] = useState(false);\r\n   const [profileName, setProfileName] = useState(user?.name || \"\");\r\n   const [profileEmail, setProfileEmail] = useState(user?.email || \"\");\r\n \r\n-  const [myCars, setMyCars] = useState<Car[]>([]);\r\n+  const [userCars, setUserCars] = useState<CarType[]>([]);\r\n   const [loadingCars, setLoadingCars] = useState(true);\r\n \r\n-  // Redirect if not logged in\r\n-  useEffect(() => {\r\n-    if (!user) navigate(\"/auth?mode=login\");\r\n-  }, [user]);\r\n-\r\n-  // Fetch cars belonging to logged-in user\r\n   const fetchUserCars = async () => {\r\n     if (!user) return;\r\n-\r\n     setLoadingCars(true);\r\n-\r\n     try {\r\n-      const res = await axios.get(`${API_BASE_URL}/api/cars`);\r\n-      const allCars: ApiCar[] = res.data;\r\n-\r\n-      const mine = allCars.filter((car) => car.seller?._id === user._id);\r\n-      setMyCars(mine.map(mapApiCarToCar));\r\n+      const apiCars = await getMyCars(user.token);\r\n+      setUserCars(apiCars.map(mapApiCarToCar));\r\n     } catch (err) {\r\n-      console.error(\"Error loading cars:\", err);\r\n+      toast({\r\n+        title: \"Failed to load your cars\",\r\n+        description: getAxiosMessage(err),\r\n+        variant: \"destructive\",\r\n+      });\r\n+    } finally {\r\n+      setLoadingCars(false);\r\n     }\r\n-\r\n-    setLoadingCars(false);\r\n   };\r\n \r\n   useEffect(() => {\r\n-    fetchUserCars();\r\n-  }, [user]);\r\n+    if (!user) navigate(\"/auth?mode=login\");\r\n+    else fetchUserCars();\r\n+  }, [user, navigate]);\r\n \r\n+  if (!user) return null;\r\n+\r\n   const handleProfilePictureUpload = () => {\r\n     toast({\r\n       title: \"Upload feature\",\r\n-      description: \"Coming soon: Profile picture upload.\",\r\n+      description: \"Profile picture upload will be available once connected to backend.\",\r\n     });\r\n   };\r\n \r\n   const handleSaveProfile = () => {\r\n     toast({\r\n       title: \"Profile updated\",\r\n-      description: \"Profile settings saved.\",\r\n+      description: \"Your profile has been updated successfully.\",\r\n     });\r\n     setIsEditingProfile(false);\r\n   };\r\n \r\n@@ -78,38 +77,28 @@\n     navigate(\"/auth?mode=login\");\r\n   };\r\n \r\n   const handleDeleteCar = async (carId: string) => {\r\n-  if (!confirm(\"Are you sure you want to delete this listing?\")) return;\r\n+    if (!confirm(\"Are you sure you want to delete this listing?\")) return;\r\n \r\n-  try {\r\n-    await axios.delete(`${API_BASE_URL}/api/cars/${carId}`, {\r\n-      headers: { Authorization: `Bearer ${user?.token}` },\r\n-    });\r\n+    try {\r\n+      await deleteCar(carId, user.token);\r\n+      toast({ title: \"Car deleted successfully!\" });\r\n+      fetchUserCars();\r\n+    } catch (err: unknown) {\r\n+      toast({\r\n+        title: \"Error deleting car\",\r\n+        description: getAxiosMessage(err),\r\n+        variant: \"destructive\",\r\n+      });\r\n+    }\r\n+  };\r\n \r\n-    toast({ title: \"Car deleted successfully!\" });\r\n-\r\n-    fetchUserCars(); // refresh\r\n-  } catch (err: unknown) {\r\n-    const axiosErr = err as AxiosError<{ message?: string }>;\r\n-\r\n-    toast({\r\n-      title: \"Error deleting car\",\r\n-      description:\r\n-        axiosErr.response?.data?.message || \"Something went wrong.\",\r\n-      variant: \"destructive\",\r\n-    });\r\n-  }\r\n-};\r\n-\r\n-\r\n-  if (!user) return null;\r\n-\r\n   return (\r\n     <div className=\"min-h-screen bg-background\">\r\n       <div className=\"container mx-auto px-4 py-8 animate-fade-in\">\r\n         <div className=\"grid gap-8 lg:grid-cols-3\">\r\n-          {/* PROFILE COLUMN */}\r\n+          {/* Profile Info */}\r\n           <div className=\"lg:col-span-1\">\r\n             <Card className=\"shadow-card\">\r\n               <CardHeader>\r\n                 <CardTitle>Profile</CardTitle>\r\n@@ -132,35 +121,29 @@\n \r\n                   {isEditingProfile ? (\r\n                     <div className=\"w-full space-y-3\">\r\n                       <div className=\"space-y-2\">\r\n-                        <Label htmlFor=\"profile-name\">Full Name</Label>\r\n+                        <Label htmlFor=\"profile-name\" className=\"text-left\">Full Name</Label>\r\n                         <Input\r\n                           id=\"profile-name\"\r\n                           value={profileName}\r\n                           onChange={(e) => setProfileName(e.target.value)}\r\n                         />\r\n                       </div>\r\n-\r\n                       <div className=\"space-y-2\">\r\n-                        <Label htmlFor=\"profile-email\">Email</Label>\r\n+                        <Label htmlFor=\"profile-email\" className=\"text-left\">Email Address</Label>\r\n                         <Input\r\n                           id=\"profile-email\"\r\n                           type=\"email\"\r\n                           value={profileEmail}\r\n                           onChange={(e) => setProfileEmail(e.target.value)}\r\n                         />\r\n                       </div>\r\n-\r\n                       <div className=\"flex gap-2\">\r\n-                        <Button onClick={handleSaveProfile} className=\"flex-1\">\r\n+                        <Button onClick={handleSaveProfile} variant=\"default\" className=\"flex-1\">\r\n                           Save\r\n                         </Button>\r\n-                        <Button\r\n-                          variant=\"outline\"\r\n-                          className=\"flex-1\"\r\n-                          onClick={() => setIsEditingProfile(false)}\r\n-                        >\r\n+                        <Button variant=\"outline\" onClick={() => setIsEditingProfile(false)} className=\"flex-1\">\r\n                           Cancel\r\n                         </Button>\r\n                       </div>\r\n                     </div>\r\n@@ -178,35 +161,26 @@\n                 <Separator />\r\n \r\n                 <div className=\"space-y-2\">\r\n                   <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Account</span>\r\n-                    <span className=\"font-medium\">Active</span>\r\n+                    <span className=\"text-muted-foreground\">Member Since</span>\r\n+                    <span className=\"font-medium\">Oct 2025</span>\r\n                   </div>\r\n                   <div className=\"flex justify-between text-sm\">\r\n-                    <span className=\"text-muted-foreground\">Listings</span>\r\n-                    <span className=\"font-medium\">{myCars.length}</span>\r\n+                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n+                    <span className=\"font-medium\">{userCars.length}</span>\r\n                   </div>\r\n                 </div>\r\n \r\n                 <Separator />\r\n \r\n                 {!isEditingProfile && (\r\n                   <>\r\n-                    <Button\r\n-                      variant=\"outline\"\r\n-                      className=\"w-full\"\r\n-                      onClick={() => setIsEditingProfile(true)}\r\n-                    >\r\n+                    <Button variant=\"outline\" className=\"w-full\" onClick={() => setIsEditingProfile(true)}>\r\n                       <Edit className=\"h-4 w-4 mr-2\" />\r\n                       Edit Profile\r\n                     </Button>\r\n-\r\n-                    <Button\r\n-                      variant=\"outline\"\r\n-                      className=\"w-full\"\r\n-                      onClick={handleLogout}\r\n-                    >\r\n+                    <Button variant=\"outline\" className=\"w-full\" onClick={handleLogout}>\r\n                       <LogOut className=\"h-4 w-4 mr-2\" />\r\n                       Logout\r\n                     </Button>\r\n                   </>\r\n@@ -214,53 +188,52 @@\n               </CardContent>\r\n             </Card>\r\n           </div>\r\n \r\n-          {/* USER CARS COLUMN */}\r\n+          {/* User's Cars */}\r\n           <div className=\"lg:col-span-2\">\r\n             <Card className=\"shadow-card\">\r\n-              <CardHeader className=\"flex justify-between items-center\">\r\n-                <CardTitle>My Listings</CardTitle>\r\n-                <Button onClick={() => navigate(\"/sell\")}>Add New Listing</Button>\r\n+              <CardHeader>\r\n+                <div className=\"flex items-center justify-between\">\r\n+                  <CardTitle>My Listings</CardTitle>\r\n+                  <Button variant=\"default\" onClick={() => navigate(\"/sell\")}>\r\n+                    Add New Listing\r\n+                  </Button>\r\n+                </div>\r\n               </CardHeader>\r\n \r\n               <CardContent className=\"space-y-4\">\r\n                 {loadingCars ? (\r\n-                  <p className=\"py-12 text-center text-muted-foreground\">\r\n-                    Loading your cars...\r\n-                  </p>\r\n-                ) : myCars.length === 0 ? (\r\n+                  <div className=\"py-12 text-center text-muted-foreground\">\r\n+                    Loading your listings...\r\n+                  </div>\r\n+                ) : userCars.length === 0 ? (\r\n                   <div className=\"py-12 text-center\">\r\n-                    <p className=\"text-muted-foreground\">\r\n-                      You havenâ€™t listed any cars yet.\r\n-                    </p>\r\n+                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n                     <Button className=\"mt-4\" onClick={() => navigate(\"/sell\")}>\r\n                       List Your First Car\r\n                     </Button>\r\n                   </div>\r\n                 ) : (\r\n-                  myCars.map((car) => (\r\n+                  userCars.map((car) => (\r\n                     <Card key={car.id} className=\"overflow-hidden\">\r\n                       <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n-                        {/* IMAGE */}\r\n                         <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n                           <img\r\n                             src={car.images[0]}\r\n                             alt={car.title}\r\n                             className=\"h-full w-full object-cover\"\r\n                           />\r\n                         </div>\r\n \r\n-                        {/* DETAILS */}\r\n                         <div className=\"flex-1 space-y-2\">\r\n                           <div className=\"flex items-start justify-between\">\r\n                             <div>\r\n                               <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n                               <p className=\"text-2xl font-bold text-primary\">\r\n                                 ${car.price.toLocaleString()}\r\n                               </p>\r\n                             </div>\r\n-\r\n                             <Badge variant=\"outline\" className=\"capitalize\">\r\n                               {car.condition}\r\n                             </Badge>\r\n                           </div>\r\n@@ -269,16 +242,15 @@\n                             {car.description}\r\n                           </p>\r\n \r\n                           <div className=\"flex flex-wrap gap-2\">\r\n-                            {car.platform.map((p, i) => (\r\n-                              <Badge key={i} variant=\"secondary\" className=\"text-xs\">\r\n-                                {p.name}\r\n+                            {car.platform.map((platform, index) => (\r\n+                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n+                                {platform.name}\r\n                               </Badge>\r\n                             ))}\r\n                           </div>\r\n \r\n-                          {/* ACTIONS */}\r\n                           <div className=\"flex gap-2 pt-2\">\r\n                             <Button\r\n                               variant=\"outline\"\r\n                               size=\"sm\"\r\n@@ -287,9 +259,8 @@\n                             >\r\n                               <Edit className=\"h-4 w-4\" />\r\n                               Edit\r\n                             </Button>\r\n-\r\n                             <Button\r\n                               variant=\"destructive\"\r\n                               size=\"sm\"\r\n                               className=\"gap-2\"\r\n"
                }
            ],
            "date": 1759428057980,
            "name": "Commit-0",
            "content": "import { useNavigate } from \"react-router-dom\";\r\nimport { useAuth } from \"@/contexts/AuthContext\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { mockCars } from \"@/lib/mockData\";\r\nimport { Mail, Edit, Trash2 } from \"lucide-react\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst Profile = () => {\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate(\"/auth?mode=login\");\r\n    }\r\n  }, [user, navigate]);\r\n\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  // Mock user's listed cars (in real app, filter by user ID)\r\n  const userCars = mockCars.slice(0, 2);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div className=\"grid gap-8 lg:grid-cols-3\">\r\n          {/* Profile Info */}\r\n          <div className=\"lg:col-span-1\">\r\n            <Card className=\"shadow-card\">\r\n              <CardHeader>\r\n                <CardTitle>Profile</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6\">\r\n                <div className=\"flex flex-col items-center text-center\">\r\n                  <Avatar className=\"h-24 w-24 mb-4\">\r\n                    <AvatarFallback className=\"bg-primary text-primary-foreground text-3xl\">\r\n                      {user.name.charAt(0).toUpperCase()}\r\n                    </AvatarFallback>\r\n                  </Avatar>\r\n                  <h2 className=\"text-2xl font-bold\">{user.name}</h2>\r\n                  <div className=\"flex items-center gap-2 mt-2 text-muted-foreground\">\r\n                    <Mail className=\"h-4 w-4\" />\r\n                    <span className=\"text-sm\">{user.email}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <div className=\"space-y-2\">\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Member Since</span>\r\n                    <span className=\"font-medium\">Oct 2025</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between text-sm\">\r\n                    <span className=\"text-muted-foreground\">Total Listings</span>\r\n                    <span className=\"font-medium\">{userCars.length}</span>\r\n                  </div>\r\n                </div>\r\n\r\n                <Separator />\r\n\r\n                <Button variant=\"outline\" className=\"w-full\">\r\n                  Edit Profile\r\n                </Button>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* User's Cars */}\r\n          <div className=\"lg:col-span-2\">\r\n            <Card className=\"shadow-card\">\r\n              <CardHeader>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <CardTitle>My Listings</CardTitle>\r\n                  <Button variant=\"accent\" onClick={() => navigate(\"/sell\")}>\r\n                    Add New Listing\r\n                  </Button>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-4\">\r\n                {userCars.length === 0 ? (\r\n                  <div className=\"py-12 text-center\">\r\n                    <p className=\"text-muted-foreground\">You haven't listed any cars yet.</p>\r\n                    <Button\r\n                      variant=\"accent\"\r\n                      className=\"mt-4\"\r\n                      onClick={() => navigate(\"/sell\")}\r\n                    >\r\n                      List Your First Car\r\n                    </Button>\r\n                  </div>\r\n                ) : (\r\n                  userCars.map((car) => (\r\n                    <Card key={car.id} className=\"overflow-hidden\">\r\n                      <div className=\"flex flex-col md:flex-row gap-4 p-4\">\r\n                        <div className=\"w-full md:w-48 aspect-video overflow-hidden rounded-lg bg-muted\">\r\n                          <img\r\n                            src={car.images[0]}\r\n                            alt={car.title}\r\n                            className=\"h-full w-full object-cover\"\r\n                          />\r\n                        </div>\r\n                        \r\n                        <div className=\"flex-1 space-y-2\">\r\n                          <div className=\"flex items-start justify-between\">\r\n                            <div>\r\n                              <h3 className=\"text-lg font-semibold\">{car.title}</h3>\r\n                              <p className=\"text-2xl font-bold text-primary\">\r\n                                ${car.price.toLocaleString()}\r\n                              </p>\r\n                            </div>\r\n                            <Badge variant=\"outline\" className=\"capitalize\">\r\n                              {car.condition}\r\n                            </Badge>\r\n                          </div>\r\n                          \r\n                          <p className=\"text-sm text-muted-foreground line-clamp-2\">\r\n                            {car.description}\r\n                          </p>\r\n                          \r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {car.platform.map((platform, index) => (\r\n                              <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n                                {platform.name}\r\n                              </Badge>\r\n                            ))}\r\n                          </div>\r\n                          \r\n                          <div className=\"flex gap-2 pt-2\">\r\n                            <Button variant=\"outline\" size=\"sm\" className=\"gap-2\">\r\n                              <Edit className=\"h-4 w-4\" />\r\n                              Edit\r\n                            </Button>\r\n                            <Button variant=\"destructive\" size=\"sm\" className=\"gap-2\">\r\n                              <Trash2 className=\"h-4 w-4\" />\r\n                              Delete\r\n                            </Button>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </Card>\r\n                  ))\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"
        }
    ]
}