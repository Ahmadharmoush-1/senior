{
    "sourceFile": "backend/src/routes/carRoutes.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 12,
            "patches": [
                {
                    "date": 1760714592559,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760714599344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,8 @@\n \r\n const router = Router();\r\n \r\n router.get(\"/\", (req, res) => {\r\n-  res.send(\"User route works!\");\r\n+  res.send(\"Car route works!\");\r\n });\r\n \r\n export default router;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1763630363757,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,14 @@\n+// src/routes/carRoutes.ts\r\n import { Router } from \"express\";\r\n+import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n+import { verifyToken } from \"../middleware/authMiddleware\";\r\n+import { upload } from \"../middleware/uploadMiddleware\";\r\n \r\n const router = Router();\r\n \r\n-router.get(\"/\", (req, res) => {\r\n\\ No newline at end of file\n-  res.send(\"Car route works!\");\r\n-});\r\n+router.get(\"/\", getAllCars);\r\n+router.get(\"/:id\", getCarById);\r\n \r\n-export default router;\n+router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n+\r\n+export default router;\r\n"
                },
                {
                    "date": 1763651994127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,12 @@\n-// src/routes/carRoutes.ts\r\n-import { Router } from \"express\";\r\n+import express from \"express\";\r\n import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n import { verifyToken } from \"../middleware/authMiddleware\";\r\n-import { upload } from \"../middleware/uploadMiddleware\";\r\n+import { upload } from \"../middleware/upload\";\r\n \r\n-const router = Router();\r\n+const router = express.Router();\r\n \r\n+router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n router.get(\"/\", getAllCars);\r\n router.get(\"/:id\", getCarById);\r\n \r\n-router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n-\r\n export default router;\r\n"
                },
                {
                    "date": 1763652006900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,11 @@\n-import express from \"express\";\r\n+// src/routes/carRoutes.ts\r\n+import { Router } from \"express\";\r\n import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n import { verifyToken } from \"../middleware/authMiddleware\";\r\n-import { upload } from \"../middleware/upload\";\r\n+import { upload } from \"../middleware/uploadMiddleware\";\r\n \r\n+\r\n const router = express.Router();\r\n \r\n router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n router.get(\"/\", getAllCars);\r\n"
                },
                {
                    "date": 1763652907132,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,14 @@\n+// src/routes/carRoutes.ts\r\n+import { Router } from \"express\";\r\n+import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n+import { verifyToken } from \"../middleware/authMiddleware\";\r\n+import { upload } from \"../middleware/uploadMiddleware\";\r\n+\r\n+const router = Router();\r\n+\r\n+router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n+router.get(\"/\", getAllCars);          // <-- public\r\n+router.get(\"/:id\", getCarById);       // <-- public\r\n+\r\n+\r\n+export default router;\r\n"
                },
                {
                    "date": 1763653274769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,28 +1,33 @@\n-// src/routes/carRoutes.ts\r\n-import { Router } from \"express\";\r\n-import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n+import express from \"express\";\r\n+import multer from \"multer\";\r\n+import path from \"path\";\r\n import { verifyToken } from \"../middleware/authMiddleware\";\r\n-import { upload } from \"../middleware/uploadMiddleware\";\r\n+import {\r\n+  createCar,\r\n+  getAllCars,\r\n+  getCarById\r\n+} from \"../controllers/carController\";\r\n \r\n-const router = Router();\r\n+const router = express.Router();\r\n \r\n-router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n-router.get(\"/\", getAllCars);          // <-- public\r\n-router.get(\"/:id\", getCarById);       // <-- public\r\n+// Multer setup for image uploads\r\n+const storage = multer.diskStorage({\r\n+  destination: (req, file, cb) => {\r\n+    cb(null, path.join(__dirname, \"../../uploads\"));\r\n+  },\r\n+  filename: (req, file, cb) => {\r\n+    const uniqueName =\r\n+      Date.now() + \"-\" + Math.round(Math.random() * 1e9) + \"-\" + file.originalname;\r\n+    cb(null, uniqueName);\r\n+  },\r\n+});\r\n \r\n+const upload = multer({ storage });\r\n \r\n-export default router;\r\n-// src/routes/carRoutes.ts\r\n-import { Router } from \"express\";\r\n-import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n-import { verifyToken } from \"../middleware/authMiddleware\";\r\n-import { upload } from \"../middleware/uploadMiddleware\";\r\n \r\n+// PUBLIC ROUTES\r\n+router.get(\"/\", getAllCars);       // GET all cars\r\n+router.get(\"/:id\", getCarById);    // GET one car by ID\r\n \r\n-const router = express.Router();\r\n-\r\n-router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n-router.get(\"/\", getAllCars);\r\n-router.get(\"/:id\", getCarById);\r\n-\r\n-export default router;\r\n+// PROTECTED ROUTE\r\n+router.post(\"/\", verifyToken, upload.array(\"images\", 10), crea\r\n"
                },
                {
                    "date": 1763653342171,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,33 +1,14 @@\n-import express from \"express\";\r\n-import multer from \"multer\";\r\n-import path from \"path\";\r\n+// src/routes/carRoutes.ts\r\n+import { Router } from \"express\";\r\n+import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n import { verifyToken } from \"../middleware/authMiddleware\";\r\n-import {\r\n-  createCar,\r\n-  getAllCars,\r\n-  getCarById\r\n-} from \"../controllers/carController\";\r\n+import { upload } from \"../middleware/uploadMiddleware\";\r\n \r\n-const router = express.Router();\r\n+const router = Router();\r\n \r\n-// Multer setup for image uploads\r\n-const storage = multer.diskStorage({\r\n-  destination: (req, file, cb) => {\r\n-    cb(null, path.join(__dirname, \"../../uploads\"));\r\n-  },\r\n-  filename: (req, file, cb) => {\r\n-    const uniqueName =\r\n-      Date.now() + \"-\" + Math.round(Math.random() * 1e9) + \"-\" + file.originalname;\r\n-    cb(null, uniqueName);\r\n-  },\r\n-});\r\n+router.get(\"/\", getAllCars);\r\n+router.get(\"/:id\", getCarById);\r\n \r\n-const upload = multer({ storage });\r\n+router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n \r\n-\r\n-// PUBLIC ROUTES\r\n-router.get(\"/\", getAllCars);       // GET all cars\r\n-router.get(\"/:id\", getCarById);    // GET one car by ID\r\n-\r\n-// PROTECTED ROUTE\r\n-router.post(\"/\", verifyToken, upload.array(\"images\", 10), crea\r\n+export default router;\r\n"
                },
                {
                    "date": 1763928457285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,6 +9,10 @@\n router.get(\"/\", getAllCars);\r\n router.get(\"/:id\", getCarById);\r\n \r\n router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n+// NEW\r\n+router.put(\"/:id\", verifyToken, upload.array(\"images\", 10), updateCar);\r\n+router.delete(\"/:id\", verifyToken, deleteCar);\r\n \r\n+\r\n export default router;\r\n"
                },
                {
                    "date": 1763928466716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,7 +12,7 @@\n router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n // NEW\r\n router.put(\"/:id\", verifyToken, upload.array(\"images\", 10), updateCar);\r\n router.delete(\"/:id\", verifyToken, deleteCar);\r\n+    \r\n \r\n-\r\n export default router;\r\n"
                },
                {
                    "date": 1763928620826,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,10 +9,7 @@\n router.get(\"/\", getAllCars);\r\n router.get(\"/:id\", getCarById);\r\n \r\n router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n-// NEW\r\n-router.put(\"/:id\", verifyToken, upload.array(\"images\", 10), updateCar);\r\n-router.delete(\"/:id\", verifyToken, deleteCar);\r\n-    \r\n \r\n+\r\n export default router;\r\n"
                },
                {
                    "date": 1763929783992,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,24 @@\n+// src/routes/carRoutes.ts\r\n+import { Router } from \"express\";\r\n+import {\r\n+  createCar,\r\n+  getAllCars,\r\n+  getCarById,\r\n+  updateCar,\r\n+  deleteCar,\r\n+} from \"../controllers/carController\";\r\n+import { verifyToken } from \"../middleware/authMiddleware\";\r\n+import { upload } from \"../middleware/uploadMiddleware\";\r\n+\r\n+const router = Router();\r\n+\r\n+router.get(\"/\", getAllCars);\r\n+router.get(\"/:id\", getCarById);\r\n+\r\n+router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n+\r\n+router.put(\"/:id\", verifyToken, upload.array(\"images\", 10), updateCar);\r\n+\r\n+router.delete(\"/:id\", verifyToken, deleteCar);\r\n+\r\n+export default router;\r\n"
                },
                {
                    "date": 1763933382823,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,39 +1,25 @@\n-// src/routes/carRoutes.ts\r\n import { Router } from \"express\";\r\n import {\r\n   createCar,\r\n   getAllCars,\r\n   getCarById,\r\n   updateCar,\r\n   deleteCar,\r\n+  getMyCars,\r\n } from \"../controllers/carController\";\r\n import { verifyToken } from \"../middleware/authMiddleware\";\r\n import { upload } from \"../middleware/uploadMiddleware\";\r\n \r\n const router = Router();\r\n \r\n+// public\r\n router.get(\"/\", getAllCars);\r\n router.get(\"/:id\", getCarById);\r\n \r\n+// private\r\n+router.get(\"/me/listings\", verifyToken, getMyCars);\r\n router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n-\r\n router.put(\"/:id\", verifyToken, upload.array(\"images\", 10), updateCar);\r\n-\r\n router.delete(\"/:id\", verifyToken, deleteCar);\r\n \r\n export default router;\r\n-// src/routes/carRoutes.ts\r\n-import { Router } from \"express\";\r\n-import { createCar, getAllCars, getCarById } from \"../controllers/carController\";\r\n-import { verifyToken } from \"../middleware/authMiddleware\";\r\n-import { upload } from \"../middleware/uploadMiddleware\";\r\n-\r\n-const router = Router();\r\n-\r\n-router.get(\"/\", getAllCars);\r\n-router.get(\"/:id\", getCarById);\r\n-\r\n-router.post(\"/\", verifyToken, upload.array(\"images\", 10), createCar);\r\n-\r\n-\r\n-export default router;\r\n"
                }
            ],
            "date": 1760714592559,
            "name": "Commit-0",
            "content": "import { Router } from \"express\";\r\n\r\nconst router = Router();\r\n\r\nrouter.get(\"/\", (req, res) => {\r\n  res.send(\"User route works!\");\r\n});\r\n\r\nexport default router;"
        }
    ]
}